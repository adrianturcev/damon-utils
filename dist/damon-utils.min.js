(()=>{var Xe=(z,r)=>()=>(r||z((r={exports:{}}).exports,r),r.exports);var Jt=Xe((Rr,Bt)=>{"use strict";var{entries:Ft,setPrototypeOf:kt,isFrozen:ir,getPrototypeOf:sr,getOwnPropertyDescriptor:ar}=Object,{freeze:Ae,seal:xe,create:pt}=Object,{apply:dt,construct:ht}=typeof Reflect<"u"&&Reflect;Ae||(Ae=function(r){return r});xe||(xe=function(r){return r});dt||(dt=function(r,m){for(var e=arguments.length,t=new Array(e>2?e-2:0),f=2;f<e;f++)t[f-2]=arguments[f];return r.apply(m,t)});ht||(ht=function(r){for(var m=arguments.length,e=new Array(m>1?m-1:0),t=1;t<m;t++)e[t-1]=arguments[t];return new r(...e)});var Ze=be(Array.prototype.forEach),lr=be(Array.prototype.lastIndexOf),Dt=be(Array.prototype.pop),Ke=be(Array.prototype.push),or=be(Array.prototype.splice),et=be(String.prototype.toLowerCase),at=be(String.prototype.toString),lt=be(String.prototype.match),Be=be(String.prototype.replace),fr=be(String.prototype.indexOf),ur=be(String.prototype.trim),Ne=be(Object.prototype.hasOwnProperty),ge=be(RegExp.prototype.test),Je=cr(TypeError);function be(z){return function(r){r instanceof RegExp&&(r.lastIndex=0);for(var m=arguments.length,e=new Array(m>1?m-1:0),t=1;t<m;t++)e[t-1]=arguments[t];return dt(z,r,e)}}function cr(z){return function(){for(var r=arguments.length,m=new Array(r),e=0;e<r;e++)m[e]=arguments[e];return ht(z,m)}}function J(z,r){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:et;kt&&kt(z,null);let e=r.length;for(;e--;){let t=r[e];if(typeof t=="string"){let f=m(t);f!==t&&(ir(r)||(r[e]=f),t=f)}z[t]=!0}return z}function pr(z){for(let r=0;r<z.length;r++)Ne(z,r)||(z[r]=null);return z}function Ie(z){let r=pt(null);for(let[m,e]of Ft(z))Ne(z,m)&&(Array.isArray(e)?r[m]=pr(e):e&&typeof e=="object"&&e.constructor===Object?r[m]=Ie(e):r[m]=e);return r}function je(z,r){for(;z!==null;){let e=ar(z,r);if(e){if(e.get)return be(e.get);if(typeof e.value=="function")return be(e.value)}z=sr(z)}function m(){return null}return m}var It=Ae(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ot=Ae(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ft=Ae(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),dr=Ae(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ut=Ae(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),hr=Ae(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Mt=Ae(["#text"]),vt=Ae(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ct=Ae(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ht=Ae(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Qe=Ae(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),yr=xe(/\{\{[\w\W]*|[\w\W]*\}\}/gm),mr=xe(/<%[\w\W]*|[\w\W]*%>/gm),gr=xe(/\$\{[\w\W]*/gm),Ar=xe(/^data-[\-\w.\u00B7-\uFFFF]+$/),br=xe(/^aria-[\-\w]+$/),Ut=xe(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Tr=xe(/^(?:\w+script|data):/i),_r=xe(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Pt=xe(/^html$/i),Er=xe(/^[a-z][.\w]*(-[.\w]+)+$/i),$t=Object.freeze({__proto__:null,ARIA_ATTR:br,ATTR_WHITESPACE:_r,CUSTOM_ELEMENT:Er,DATA_ATTR:Ar,DOCTYPE_NAME:Pt,ERB_EXPR:mr,IS_ALLOWED_URI:Ut,IS_SCRIPT_OR_DATA:Tr,MUSTACHE_EXPR:yr,TMPLIT_EXPR:gr}),Ge={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},xr=function(){return typeof window>"u"?null:window},wr=function(r,m){if(typeof r!="object"||typeof r.createPolicy!="function")return null;let e=null,t="data-tt-policy-suffix";m&&m.hasAttribute(t)&&(e=m.getAttribute(t));let f="dompurify"+(e?"#"+e:"");try{return r.createPolicy(f,{createHTML(n){return n},createScriptURL(n){return n}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}},zt=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Kt(){let z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xr(),r=I=>Kt(I);if(r.version="3.3.0",r.removed=[],!z||!z.document||z.document.nodeType!==Ge.document||!z.Element)return r.isSupported=!1,r;let{document:m}=z,e=m,t=e.currentScript,{DocumentFragment:f,HTMLTemplateElement:n,Node:s,Element:d,NodeFilter:c,NamedNodeMap:h=z.NamedNodeMap||z.MozNamedAttrMap,HTMLFormElement:l,DOMParser:p,trustedTypes:C}=z,x=d.prototype,E=je(x,"cloneNode"),M=je(x,"remove"),A=je(x,"nextSibling"),N=je(x,"childNodes"),w=je(x,"parentNode");if(typeof n=="function"){let I=m.createElement("template");I.content&&I.content.ownerDocument&&(m=I.content.ownerDocument)}let g,y="",{implementation:a,createNodeIterator:i,createDocumentFragment:o,getElementsByTagName:b}=m,{importNode:T}=e,_=zt();r.isSupported=typeof Ft=="function"&&typeof w=="function"&&a&&a.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:v,ERB_EXPR:j,TMPLIT_EXPR:X,DATA_ATTR:O,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:S,ATTR_WHITESPACE:F,CUSTOM_ELEMENT:k}=$t,{IS_ALLOWED_URI:$}=$t,L=null,ne=J({},[...It,...ot,...ft,...ut,...Mt]),U=null,ae=J({},[...vt,...ct,...Ht,...Qe]),V=Object.seal(pt(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),K=null,G=null,Z=Object.seal(pt(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),B=!0,Q=!0,oe=!1,te=!0,W=!1,P=!0,ie=!1,Y=!1,ee=!1,re=!1,we=!1,me=!1,Me=!0,ce=!1,Ee="user-content-",le=!0,fe=!1,he={},Ce=null,Fe=J({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Se=null,_e=J({},["audio","video","img","source","image","track"]),Le=null,Ue=J({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),We="http://www.w3.org/1998/Math/MathML",qe="http://www.w3.org/2000/svg",Oe="http://www.w3.org/1999/xhtml",He=Oe,tt=!1,rt=null,Xt=J({},[We,qe,Oe],at),Ve=J({},["mi","mo","mn","ms","mtext"]),Ye=J({},["annotation-xml"]),Zt=J({},["title","style","font","a","script"]),Pe=null,Qt=["application/xhtml+xml","text/html"],er="text/html",pe=null,$e=null,tr=m.createElement("form"),bt=function(u){return u instanceof RegExp||u instanceof Function},nt=function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!($e&&$e===u)){if((!u||typeof u!="object")&&(u={}),u=Ie(u),Pe=Qt.indexOf(u.PARSER_MEDIA_TYPE)===-1?er:u.PARSER_MEDIA_TYPE,pe=Pe==="application/xhtml+xml"?at:et,L=Ne(u,"ALLOWED_TAGS")?J({},u.ALLOWED_TAGS,pe):ne,U=Ne(u,"ALLOWED_ATTR")?J({},u.ALLOWED_ATTR,pe):ae,rt=Ne(u,"ALLOWED_NAMESPACES")?J({},u.ALLOWED_NAMESPACES,at):Xt,Le=Ne(u,"ADD_URI_SAFE_ATTR")?J(Ie(Ue),u.ADD_URI_SAFE_ATTR,pe):Ue,Se=Ne(u,"ADD_DATA_URI_TAGS")?J(Ie(_e),u.ADD_DATA_URI_TAGS,pe):_e,Ce=Ne(u,"FORBID_CONTENTS")?J({},u.FORBID_CONTENTS,pe):Fe,K=Ne(u,"FORBID_TAGS")?J({},u.FORBID_TAGS,pe):Ie({}),G=Ne(u,"FORBID_ATTR")?J({},u.FORBID_ATTR,pe):Ie({}),he=Ne(u,"USE_PROFILES")?u.USE_PROFILES:!1,B=u.ALLOW_ARIA_ATTR!==!1,Q=u.ALLOW_DATA_ATTR!==!1,oe=u.ALLOW_UNKNOWN_PROTOCOLS||!1,te=u.ALLOW_SELF_CLOSE_IN_ATTR!==!1,W=u.SAFE_FOR_TEMPLATES||!1,P=u.SAFE_FOR_XML!==!1,ie=u.WHOLE_DOCUMENT||!1,re=u.RETURN_DOM||!1,we=u.RETURN_DOM_FRAGMENT||!1,me=u.RETURN_TRUSTED_TYPE||!1,ee=u.FORCE_BODY||!1,Me=u.SANITIZE_DOM!==!1,ce=u.SANITIZE_NAMED_PROPS||!1,le=u.KEEP_CONTENT!==!1,fe=u.IN_PLACE||!1,$=u.ALLOWED_URI_REGEXP||Ut,He=u.NAMESPACE||Oe,Ve=u.MATHML_TEXT_INTEGRATION_POINTS||Ve,Ye=u.HTML_INTEGRATION_POINTS||Ye,V=u.CUSTOM_ELEMENT_HANDLING||{},u.CUSTOM_ELEMENT_HANDLING&&bt(u.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=u.CUSTOM_ELEMENT_HANDLING.tagNameCheck),u.CUSTOM_ELEMENT_HANDLING&&bt(u.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=u.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),u.CUSTOM_ELEMENT_HANDLING&&typeof u.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(V.allowCustomizedBuiltInElements=u.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),W&&(Q=!1),we&&(re=!0),he&&(L=J({},Mt),U=[],he.html===!0&&(J(L,It),J(U,vt)),he.svg===!0&&(J(L,ot),J(U,ct),J(U,Qe)),he.svgFilters===!0&&(J(L,ft),J(U,ct),J(U,Qe)),he.mathMl===!0&&(J(L,ut),J(U,Ht),J(U,Qe))),u.ADD_TAGS&&(typeof u.ADD_TAGS=="function"?Z.tagCheck=u.ADD_TAGS:(L===ne&&(L=Ie(L)),J(L,u.ADD_TAGS,pe))),u.ADD_ATTR&&(typeof u.ADD_ATTR=="function"?Z.attributeCheck=u.ADD_ATTR:(U===ae&&(U=Ie(U)),J(U,u.ADD_ATTR,pe))),u.ADD_URI_SAFE_ATTR&&J(Le,u.ADD_URI_SAFE_ATTR,pe),u.FORBID_CONTENTS&&(Ce===Fe&&(Ce=Ie(Ce)),J(Ce,u.FORBID_CONTENTS,pe)),le&&(L["#text"]=!0),ie&&J(L,["html","head","body"]),L.table&&(J(L,["tbody"]),delete K.tbody),u.TRUSTED_TYPES_POLICY){if(typeof u.TRUSTED_TYPES_POLICY.createHTML!="function")throw Je('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof u.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Je('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');g=u.TRUSTED_TYPES_POLICY,y=g.createHTML("")}else g===void 0&&(g=wr(C,t)),g!==null&&typeof y=="string"&&(y=g.createHTML(""));Ae&&Ae(u),$e=u}},Tt=J({},[...ot,...ft,...dr]),_t=J({},[...ut,...hr]),rr=function(u){let R=w(u);(!R||!R.tagName)&&(R={namespaceURI:He,tagName:"template"});let D=et(u.tagName),se=et(R.tagName);return rt[u.namespaceURI]?u.namespaceURI===qe?R.namespaceURI===Oe?D==="svg":R.namespaceURI===We?D==="svg"&&(se==="annotation-xml"||Ve[se]):!!Tt[D]:u.namespaceURI===We?R.namespaceURI===Oe?D==="math":R.namespaceURI===qe?D==="math"&&Ye[se]:!!_t[D]:u.namespaceURI===Oe?R.namespaceURI===qe&&!Ye[se]||R.namespaceURI===We&&!Ve[se]?!1:!_t[D]&&(Zt[D]||!Tt[D]):!!(Pe==="application/xhtml+xml"&&rt[u.namespaceURI]):!1},Re=function(u){Ke(r.removed,{element:u});try{w(u).removeChild(u)}catch{M(u)}},ve=function(u,R){try{Ke(r.removed,{attribute:R.getAttributeNode(u),from:R})}catch{Ke(r.removed,{attribute:null,from:R})}if(R.removeAttribute(u),u==="is")if(re||we)try{Re(R)}catch{}else try{R.setAttribute(u,"")}catch{}},Et=function(u){let R=null,D=null;if(ee)u="<remove></remove>"+u;else{let ue=lt(u,/^[\r\n\t ]+/);D=ue&&ue[0]}Pe==="application/xhtml+xml"&&He===Oe&&(u='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+u+"</body></html>");let se=g?g.createHTML(u):u;if(He===Oe)try{R=new p().parseFromString(se,Pe)}catch{}if(!R||!R.documentElement){R=a.createDocument(He,"template",null);try{R.documentElement.innerHTML=tt?y:se}catch{}}let ye=R.body||R.documentElement;return u&&D&&ye.insertBefore(m.createTextNode(D),ye.childNodes[0]||null),He===Oe?b.call(R,ie?"html":"body")[0]:ie?R.documentElement:ye},xt=function(u){return i.call(u.ownerDocument||u,u,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},it=function(u){return u instanceof l&&(typeof u.nodeName!="string"||typeof u.textContent!="string"||typeof u.removeChild!="function"||!(u.attributes instanceof h)||typeof u.removeAttribute!="function"||typeof u.setAttribute!="function"||typeof u.namespaceURI!="string"||typeof u.insertBefore!="function"||typeof u.hasChildNodes!="function")},wt=function(u){return typeof s=="function"&&u instanceof s};function ke(I,u,R){Ze(I,D=>{D.call(r,u,R,$e)})}let Nt=function(u){let R=null;if(ke(_.beforeSanitizeElements,u,null),it(u))return Re(u),!0;let D=pe(u.nodeName);if(ke(_.uponSanitizeElement,u,{tagName:D,allowedTags:L}),P&&u.hasChildNodes()&&!wt(u.firstElementChild)&&ge(/<[/\w!]/g,u.innerHTML)&&ge(/<[/\w!]/g,u.textContent)||u.nodeType===Ge.progressingInstruction||P&&u.nodeType===Ge.comment&&ge(/<[/\w]/g,u.data))return Re(u),!0;if(!(Z.tagCheck instanceof Function&&Z.tagCheck(D))&&(!L[D]||K[D])){if(!K[D]&&Rt(D)&&(V.tagNameCheck instanceof RegExp&&ge(V.tagNameCheck,D)||V.tagNameCheck instanceof Function&&V.tagNameCheck(D)))return!1;if(le&&!Ce[D]){let se=w(u)||u.parentNode,ye=N(u)||u.childNodes;if(ye&&se){let ue=ye.length;for(let Te=ue-1;Te>=0;--Te){let De=E(ye[Te],!0);De.__removalCount=(u.__removalCount||0)+1,se.insertBefore(De,A(u))}}}return Re(u),!0}return u instanceof d&&!rr(u)||(D==="noscript"||D==="noembed"||D==="noframes")&&ge(/<\/no(script|embed|frames)/i,u.innerHTML)?(Re(u),!0):(W&&u.nodeType===Ge.text&&(R=u.textContent,Ze([v,j,X],se=>{R=Be(R,se," ")}),u.textContent!==R&&(Ke(r.removed,{element:u.cloneNode()}),u.textContent=R)),ke(_.afterSanitizeElements,u,null),!1)},Ct=function(u,R,D){if(Me&&(R==="id"||R==="name")&&(D in m||D in tr))return!1;if(!(Q&&!G[R]&&ge(O,R))){if(!(B&&ge(H,R))){if(!(Z.attributeCheck instanceof Function&&Z.attributeCheck(R,u))){if(!U[R]||G[R]){if(!(Rt(u)&&(V.tagNameCheck instanceof RegExp&&ge(V.tagNameCheck,u)||V.tagNameCheck instanceof Function&&V.tagNameCheck(u))&&(V.attributeNameCheck instanceof RegExp&&ge(V.attributeNameCheck,R)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(R,u))||R==="is"&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&ge(V.tagNameCheck,D)||V.tagNameCheck instanceof Function&&V.tagNameCheck(D))))return!1}else if(!Le[R]){if(!ge($,Be(D,F,""))){if(!((R==="src"||R==="xlink:href"||R==="href")&&u!=="script"&&fr(D,"data:")===0&&Se[u])){if(!(oe&&!ge(S,Be(D,F,"")))){if(D)return!1}}}}}}}return!0},Rt=function(u){return u!=="annotation-xml"&&lt(u,k)},St=function(u){ke(_.beforeSanitizeAttributes,u,null);let{attributes:R}=u;if(!R||it(u))return;let D={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U,forceKeepAttr:void 0},se=R.length;for(;se--;){let ye=R[se],{name:ue,namespaceURI:Te,value:De}=ye,ze=pe(ue),st=De,de=ue==="value"?st:ur(st);if(D.attrName=ze,D.attrValue=de,D.keepAttr=!0,D.forceKeepAttr=void 0,ke(_.uponSanitizeAttribute,u,D),de=D.attrValue,ce&&(ze==="id"||ze==="name")&&(ve(ue,u),de=Ee+de),P&&ge(/((--!?|])>)|<\/(style|title|textarea)/i,de)){ve(ue,u);continue}if(ze==="attributename"&&lt(de,"href")){ve(ue,u);continue}if(D.forceKeepAttr)continue;if(!D.keepAttr){ve(ue,u);continue}if(!te&&ge(/\/>/i,de)){ve(ue,u);continue}W&&Ze([v,j,X],Ot=>{de=Be(de,Ot," ")});let Lt=pe(u.nodeName);if(!Ct(Lt,ze,de)){ve(ue,u);continue}if(g&&typeof C=="object"&&typeof C.getAttributeType=="function"&&!Te)switch(C.getAttributeType(Lt,ze)){case"TrustedHTML":{de=g.createHTML(de);break}case"TrustedScriptURL":{de=g.createScriptURL(de);break}}if(de!==st)try{Te?u.setAttributeNS(Te,ue,de):u.setAttribute(ue,de),it(u)?Re(u):Dt(r.removed)}catch{ve(ue,u)}}ke(_.afterSanitizeAttributes,u,null)},nr=function I(u){let R=null,D=xt(u);for(ke(_.beforeSanitizeShadowDOM,u,null);R=D.nextNode();)ke(_.uponSanitizeShadowNode,R,null),Nt(R),St(R),R.content instanceof f&&I(R.content);ke(_.afterSanitizeShadowDOM,u,null)};return r.sanitize=function(I){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=null,D=null,se=null,ye=null;if(tt=!I,tt&&(I="<!-->"),typeof I!="string"&&!wt(I))if(typeof I.toString=="function"){if(I=I.toString(),typeof I!="string")throw Je("dirty is not a string, aborting")}else throw Je("toString is not a function");if(!r.isSupported)return I;if(Y||nt(u),r.removed=[],typeof I=="string"&&(fe=!1),fe){if(I.nodeName){let De=pe(I.nodeName);if(!L[De]||K[De])throw Je("root node is forbidden and cannot be sanitized in-place")}}else if(I instanceof s)R=Et("<!---->"),D=R.ownerDocument.importNode(I,!0),D.nodeType===Ge.element&&D.nodeName==="BODY"||D.nodeName==="HTML"?R=D:R.appendChild(D);else{if(!re&&!W&&!ie&&I.indexOf("<")===-1)return g&&me?g.createHTML(I):I;if(R=Et(I),!R)return re?null:me?y:""}R&&ee&&Re(R.firstChild);let ue=xt(fe?I:R);for(;se=ue.nextNode();)Nt(se),St(se),se.content instanceof f&&nr(se.content);if(fe)return I;if(re){if(we)for(ye=o.call(R.ownerDocument);R.firstChild;)ye.appendChild(R.firstChild);else ye=R;return(U.shadowroot||U.shadowrootmode)&&(ye=T.call(e,ye,!0)),ye}let Te=ie?R.outerHTML:R.innerHTML;return ie&&L["!doctype"]&&R.ownerDocument&&R.ownerDocument.doctype&&R.ownerDocument.doctype.name&&ge(Pt,R.ownerDocument.doctype.name)&&(Te="<!DOCTYPE "+R.ownerDocument.doctype.name+`>
`+Te),W&&Ze([v,j,X],De=>{Te=Be(Te,De," ")}),g&&me?g.createHTML(Te):Te},r.setConfig=function(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};nt(I),Y=!0},r.clearConfig=function(){$e=null,Y=!1},r.isValidAttribute=function(I,u,R){$e||nt({});let D=pe(I),se=pe(u);return Ct(D,se,R)},r.addHook=function(I,u){typeof u=="function"&&Ke(_[I],u)},r.removeHook=function(I,u){if(u!==void 0){let R=lr(_[I],u);return R===-1?void 0:or(_[I],R,1)[0]}return Dt(_[I])},r.removeHooks=function(I){_[I]=[]},r.removeAllHooks=function(){_=zt()},r}var Nr=Kt();Bt.exports=Nr});var jt=Xe((yt,mt)=>{((z,r)=>{typeof define=="function"&&define.amd?define([],r):typeof mt=="object"&&typeof yt<"u"?mt.exports=r():z.Papa=r()})(yt,function z(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},m,e=!r.document&&!!r.postMessage,t=r.IS_PAPA_WORKER||!1,f={},n=0,s={};function d(a){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(i){var o=w(i);o.chunkSize=parseInt(o.chunkSize),i.step||i.chunk||(o.chunkSize=null),this._handle=new C(o),(this._handle.streamer=this)._config=o}.call(this,a),this.parseChunk=function(i,o){var b=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<b){let _=this._config.newline;_||(T=this._config.quoteChar||'"',_=this._handle.guessLineEndings(i,T)),i=[...i.split(_).slice(b)].join(_)}this.isFirstChunk&&y(this._config.beforeFirstChunk)&&(T=this._config.beforeFirstChunk(i))!==void 0&&(i=T),this.isFirstChunk=!1,this._halted=!1;var b=this._partialLine+i,T=(this._partialLine="",this._handle.parse(b,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(i=T.meta.cursor,b=(this._finished||(this._partialLine=b.substring(i-this._baseIndex),this._baseIndex=i),T&&T.data&&(this._rowCount+=T.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),t)r.postMessage({results:T,workerId:s.WORKER_ID,finished:b});else if(y(this._config.chunk)&&!o){if(this._config.chunk(T,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=T=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(T.data),this._completeResults.errors=this._completeResults.errors.concat(T.errors),this._completeResults.meta=T.meta),this._completed||!b||!y(this._config.complete)||T&&T.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),b||T&&T.meta.paused||this._nextChunk(),T}this._halted=!0},this._sendError=function(i){y(this._config.error)?this._config.error(i):t&&this._config.error&&r.postMessage({workerId:s.WORKER_ID,error:i,finished:!1})}}function c(a){var i;(a=a||{}).chunkSize||(a.chunkSize=s.RemoteChunkSize),d.call(this,a),this._nextChunk=e?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(o){this._input=o,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(i=new XMLHttpRequest,this._config.withCredentials&&(i.withCredentials=this._config.withCredentials),e||(i.onload=g(this._chunkLoaded,this),i.onerror=g(this._chunkError,this)),i.open(this._config.downloadRequestBody?"POST":"GET",this._input,!e),this._config.downloadRequestHeaders){var o,b=this._config.downloadRequestHeaders;for(o in b)i.setRequestHeader(o,b[o])}var T;this._config.chunkSize&&(T=this._start+this._config.chunkSize-1,i.setRequestHeader("Range","bytes="+this._start+"-"+T));try{i.send(this._config.downloadRequestBody)}catch(_){this._chunkError(_.message)}e&&i.status===0&&this._chunkError()}},this._chunkLoaded=function(){i.readyState===4&&(i.status<200||400<=i.status?this._chunkError():(this._start+=this._config.chunkSize||i.responseText.length,this._finished=!this._config.chunkSize||this._start>=(o=>(o=o.getResponseHeader("Content-Range"))!==null?parseInt(o.substring(o.lastIndexOf("/")+1)):-1)(i),this.parseChunk(i.responseText)))},this._chunkError=function(o){o=i.statusText||o,this._sendError(new Error(o))}}function h(a){(a=a||{}).chunkSize||(a.chunkSize=s.LocalChunkSize),d.call(this,a);var i,o,b=typeof FileReader<"u";this.stream=function(T){this._input=T,o=T.slice||T.webkitSlice||T.mozSlice,b?((i=new FileReader).onload=g(this._chunkLoaded,this),i.onerror=g(this._chunkError,this)):i=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var T=this._input,_=(this._config.chunkSize&&(_=Math.min(this._start+this._config.chunkSize,this._input.size),T=o.call(T,this._start,_)),i.readAsText(T,this._config.encoding));b||this._chunkLoaded({target:{result:_}})},this._chunkLoaded=function(T){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(T.target.result)},this._chunkError=function(){this._sendError(i.error)}}function l(a){var i;d.call(this,a=a||{}),this.stream=function(o){return i=o,this._nextChunk()},this._nextChunk=function(){var o,b;if(!this._finished)return o=this._config.chunkSize,i=o?(b=i.substring(0,o),i.substring(o)):(b=i,""),this._finished=!i,this.parseChunk(b)}}function p(a){d.call(this,a=a||{});var i=[],o=!0,b=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(T){this._input=T,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){b&&i.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),i.length?this.parseChunk(i.shift()):o=!0},this._streamData=g(function(T){try{i.push(typeof T=="string"?T:T.toString(this._config.encoding)),o&&(o=!1,this._checkIsFinished(),this.parseChunk(i.shift()))}catch(_){this._streamError(_)}},this),this._streamError=g(function(T){this._streamCleanUp(),this._sendError(T)},this),this._streamEnd=g(function(){this._streamCleanUp(),b=!0,this._streamData("")},this),this._streamCleanUp=g(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function C(a){var i,o,b,T,_=Math.pow(2,53),v=-_,j=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,X=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,O=this,H=0,S=0,F=!1,k=!1,$=[],L={data:[],errors:[],meta:{}};function ne(K){return a.skipEmptyLines==="greedy"?K.join("").trim()==="":K.length===1&&K[0].length===0}function U(){if(L&&b&&(V("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),b=!1),a.skipEmptyLines&&(L.data=L.data.filter(function(Q){return!ne(Q)})),ae()){let Q=function(oe,te){y(a.transformHeader)&&(oe=a.transformHeader(oe,te)),$.push(oe)};var B=Q;if(L)if(Array.isArray(L.data[0])){for(var K=0;ae()&&K<L.data.length;K++)L.data[K].forEach(Q);L.data.splice(0,1)}else L.data.forEach(Q)}function G(Q,oe){for(var te=a.header?{}:[],W=0;W<Q.length;W++){var P=W,ie=Q[W],ie=((Y,ee)=>(re=>(a.dynamicTypingFunction&&a.dynamicTyping[re]===void 0&&(a.dynamicTyping[re]=a.dynamicTypingFunction(re)),(a.dynamicTyping[re]||a.dynamicTyping)===!0))(Y)?ee==="true"||ee==="TRUE"||ee!=="false"&&ee!=="FALSE"&&((re=>{if(j.test(re)&&(re=parseFloat(re),v<re&&re<_))return 1})(ee)?parseFloat(ee):X.test(ee)?new Date(ee):ee===""?null:ee):ee)(P=a.header?W>=$.length?"__parsed_extra":$[W]:P,ie=a.transform?a.transform(ie,P):ie);P==="__parsed_extra"?(te[P]=te[P]||[],te[P].push(ie)):te[P]=ie}return a.header&&(W>$.length?V("FieldMismatch","TooManyFields","Too many fields: expected "+$.length+" fields but parsed "+W,S+oe):W<$.length&&V("FieldMismatch","TooFewFields","Too few fields: expected "+$.length+" fields but parsed "+W,S+oe)),te}var Z;L&&(a.header||a.dynamicTyping||a.transform)&&(Z=1,!L.data.length||Array.isArray(L.data[0])?(L.data=L.data.map(G),Z=L.data.length):L.data=G(L.data,0),a.header&&L.meta&&(L.meta.fields=$),S+=Z)}function ae(){return a.header&&$.length===0}function V(K,G,Z,B){K={type:K,code:G,message:Z},B!==void 0&&(K.row=B),L.errors.push(K)}y(a.step)&&(T=a.step,a.step=function(K){L=K,ae()?U():(U(),L.data.length!==0&&(H+=K.data.length,a.preview&&H>a.preview?o.abort():(L.data=L.data[0],T(L,O))))}),this.parse=function(K,G,Z){var B=a.quoteChar||'"',B=(a.newline||(a.newline=this.guessLineEndings(K,B)),b=!1,a.delimiter?y(a.delimiter)&&(a.delimiter=a.delimiter(K),L.meta.delimiter=a.delimiter):((B=((Q,oe,te,W,P)=>{var ie,Y,ee,re;P=P||[",","	","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var we=0;we<P.length;we++){for(var me,Me=P[we],ce=0,Ee=0,le=0,fe=(ee=void 0,new E({comments:W,delimiter:Me,newline:oe,preview:10}).parse(Q)),he=0;he<fe.data.length;he++)te&&ne(fe.data[he])?le++:(me=fe.data[he].length,Ee+=me,ee===void 0?ee=me:0<me&&(ce+=Math.abs(me-ee),ee=me));0<fe.data.length&&(Ee/=fe.data.length-le),(Y===void 0||ce<=Y)&&(re===void 0||re<Ee)&&1.99<Ee&&(Y=ce,ie=Me,re=Ee)}return{successful:!!(a.delimiter=ie),bestDelimiter:ie}})(K,a.newline,a.skipEmptyLines,a.comments,a.delimitersToGuess)).successful?a.delimiter=B.bestDelimiter:(b=!0,a.delimiter=s.DefaultDelimiter),L.meta.delimiter=a.delimiter),w(a));return a.preview&&a.header&&B.preview++,i=K,o=new E(B),L=o.parse(i,G,Z),U(),F?{meta:{paused:!0}}:L||{meta:{paused:!1}}},this.paused=function(){return F},this.pause=function(){F=!0,o.abort(),i=y(a.chunk)?"":i.substring(o.getCharIndex())},this.resume=function(){O.streamer._halted?(F=!1,O.streamer.parseChunk(i,!0)):setTimeout(O.resume,3)},this.aborted=function(){return k},this.abort=function(){k=!0,o.abort(),L.meta.aborted=!0,y(a.complete)&&a.complete(L),i=""},this.guessLineEndings=function(Q,B){Q=Q.substring(0,1048576);var B=new RegExp(x(B)+"([^]*?)"+x(B),"gm"),Z=(Q=Q.replace(B,"")).split("\r"),B=Q.split(`
`),Q=1<B.length&&B[0].length<Z[0].length;if(Z.length===1||Q)return`
`;for(var oe=0,te=0;te<Z.length;te++)Z[te][0]===`
`&&oe++;return oe>=Z.length/2?`\r
`:"\r"}}function x(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function E(a){var i=(a=a||{}).delimiter,o=a.newline,b=a.comments,T=a.step,_=a.preview,v=a.fastMode,j=null,X=!1,O=a.quoteChar==null?'"':a.quoteChar,H=O;if(a.escapeChar!==void 0&&(H=a.escapeChar),(typeof i!="string"||-1<s.BAD_DELIMITERS.indexOf(i))&&(i=","),b===i)throw new Error("Comment character same as delimiter");b===!0?b="#":(typeof b!="string"||-1<s.BAD_DELIMITERS.indexOf(b))&&(b=!1),o!==`
`&&o!=="\r"&&o!==`\r
`&&(o=`
`);var S=0,F=!1;this.parse=function(k,$,L){if(typeof k!="string")throw new Error("Input must be a string");var ne=k.length,U=i.length,ae=o.length,V=b.length,K=y(T),G=[],Z=[],B=[],Q=S=0;if(!k)return ce();if(v||v!==!1&&k.indexOf(O)===-1){for(var oe=k.split(o),te=0;te<oe.length;te++){if(B=oe[te],S+=B.length,te!==oe.length-1)S+=o.length;else if(L)return ce();if(!b||B.substring(0,V)!==b){if(K){if(G=[],re(B.split(i)),Ee(),F)return ce()}else re(B.split(i));if(_&&_<=te)return G=G.slice(0,_),ce(!0)}}return ce()}for(var W=k.indexOf(i,S),P=k.indexOf(o,S),ie=new RegExp(x(H)+x(O),"g"),Y=k.indexOf(O,S);;)if(k[S]===O)for(Y=S,S++;;){if((Y=k.indexOf(O,Y+1))===-1)return L||Z.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:G.length,index:S}),me();if(Y===ne-1)return me(k.substring(S,Y).replace(ie,O));if(O===H&&k[Y+1]===H)Y++;else if(O===H||Y===0||k[Y-1]!==H){W!==-1&&W<Y+1&&(W=k.indexOf(i,Y+1));var ee=we((P=P!==-1&&P<Y+1?k.indexOf(o,Y+1):P)===-1?W:Math.min(W,P));if(k.substr(Y+1+ee,U)===i){B.push(k.substring(S,Y).replace(ie,O)),k[S=Y+1+ee+U]!==O&&(Y=k.indexOf(O,S)),W=k.indexOf(i,S),P=k.indexOf(o,S);break}if(ee=we(P),k.substring(Y+1+ee,Y+1+ee+ae)===o){if(B.push(k.substring(S,Y).replace(ie,O)),Me(Y+1+ee+ae),W=k.indexOf(i,S),Y=k.indexOf(O,S),K&&(Ee(),F))return ce();if(_&&G.length>=_)return ce(!0);break}Z.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:G.length,index:S}),Y++}}else if(b&&B.length===0&&k.substring(S,S+V)===b){if(P===-1)return ce();S=P+ae,P=k.indexOf(o,S),W=k.indexOf(i,S)}else if(W!==-1&&(W<P||P===-1))B.push(k.substring(S,W)),S=W+U,W=k.indexOf(i,S);else{if(P===-1)break;if(B.push(k.substring(S,P)),Me(P+ae),K&&(Ee(),F))return ce();if(_&&G.length>=_)return ce(!0)}return me();function re(le){G.push(le),Q=S}function we(le){var fe=0;return fe=le!==-1&&(le=k.substring(Y+1,le))&&le.trim()===""?le.length:fe}function me(le){return L||(le===void 0&&(le=k.substring(S)),B.push(le),S=ne,re(B),K&&Ee()),ce()}function Me(le){S=le,re(B),B=[],P=k.indexOf(o,S)}function ce(le){if(a.header&&!$&&G.length&&!X){var fe=G[0],he=Object.create(null),Ce=new Set(fe);let Fe=!1;for(let Se=0;Se<fe.length;Se++){let _e=fe[Se];if(he[_e=y(a.transformHeader)?a.transformHeader(_e,Se):_e]){let Le,Ue=he[_e];for(;Le=_e+"_"+Ue,Ue++,Ce.has(Le););Ce.add(Le),fe[Se]=Le,he[_e]++,Fe=!0,(j=j===null?{}:j)[Le]=_e}else he[_e]=1,fe[Se]=_e;Ce.add(_e)}Fe&&console.warn("Duplicate headers found and renamed."),X=!0}return{data:G,errors:Z,meta:{delimiter:i,linebreak:o,aborted:F,truncated:!!le,cursor:Q+($||0),renamedHeaders:j}}}function Ee(){T(ce()),G=[],Z=[]}},this.abort=function(){F=!0},this.getCharIndex=function(){return S}}function M(a){var i=a.data,o=f[i.workerId],b=!1;if(i.error)o.userError(i.error,i.file);else if(i.results&&i.results.data){var T={abort:function(){b=!0,A(i.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:N,resume:N};if(y(o.userStep)){for(var _=0;_<i.results.data.length&&(o.userStep({data:i.results.data[_],errors:i.results.errors,meta:i.results.meta},T),!b);_++);delete i.results}else y(o.userChunk)&&(o.userChunk(i.results,T,i.file),delete i.results)}i.finished&&!b&&A(i.workerId,i.results)}function A(a,i){var o=f[a];y(o.userComplete)&&o.userComplete(i),o.terminate(),delete f[a]}function N(){throw new Error("Not implemented.")}function w(a){if(typeof a!="object"||a===null)return a;var i,o=Array.isArray(a)?[]:{};for(i in a)o[i]=w(a[i]);return o}function g(a,i){return function(){a.apply(i,arguments)}}function y(a){return typeof a=="function"}return s.parse=function(a,i){var o=(i=i||{}).dynamicTyping||!1;if(y(o)&&(i.dynamicTypingFunction=o,o={}),i.dynamicTyping=o,i.transform=!!y(i.transform)&&i.transform,!i.worker||!s.WORKERS_SUPPORTED)return o=null,s.NODE_STREAM_INPUT,typeof a=="string"?(a=(b=>b.charCodeAt(0)!==65279?b:b.slice(1))(a),o=new(i.download?c:l)(i)):a.readable===!0&&y(a.read)&&y(a.on)?o=new p(i):(r.File&&a instanceof File||a instanceof Object)&&(o=new h(i)),o.stream(a);(o=(()=>{var b;return!!s.WORKERS_SUPPORTED&&(b=(()=>{var T=r.URL||r.webkitURL||null,_=z.toString();return s.BLOB_URL||(s.BLOB_URL=T.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",_,")();"],{type:"text/javascript"})))})(),(b=new r.Worker(b)).onmessage=M,b.id=n++,f[b.id]=b)})()).userStep=i.step,o.userChunk=i.chunk,o.userComplete=i.complete,o.userError=i.error,i.step=y(i.step),i.chunk=y(i.chunk),i.complete=y(i.complete),i.error=y(i.error),delete i.worker,o.postMessage({input:a,config:i,workerId:o.id})},s.unparse=function(a,i){var o=!1,b=!0,T=",",_=`\r
`,v='"',j=v+v,X=!1,O=null,H=!1,S=((()=>{if(typeof i=="object"){if(typeof i.delimiter!="string"||s.BAD_DELIMITERS.filter(function($){return i.delimiter.indexOf($)!==-1}).length||(T=i.delimiter),typeof i.quotes!="boolean"&&typeof i.quotes!="function"&&!Array.isArray(i.quotes)||(o=i.quotes),typeof i.skipEmptyLines!="boolean"&&typeof i.skipEmptyLines!="string"||(X=i.skipEmptyLines),typeof i.newline=="string"&&(_=i.newline),typeof i.quoteChar=="string"&&(v=i.quoteChar),typeof i.header=="boolean"&&(b=i.header),Array.isArray(i.columns)){if(i.columns.length===0)throw new Error("Option columns is empty");O=i.columns}i.escapeChar!==void 0&&(j=i.escapeChar+v),i.escapeFormulae instanceof RegExp?H=i.escapeFormulae:typeof i.escapeFormulae=="boolean"&&i.escapeFormulae&&(H=/^[=+\-@\t\r].*$/)}})(),new RegExp(x(v),"g"));if(typeof a=="string"&&(a=JSON.parse(a)),Array.isArray(a)){if(!a.length||Array.isArray(a[0]))return F(null,a,X);if(typeof a[0]=="object")return F(O||Object.keys(a[0]),a,X)}else if(typeof a=="object")return typeof a.data=="string"&&(a.data=JSON.parse(a.data)),Array.isArray(a.data)&&(a.fields||(a.fields=a.meta&&a.meta.fields||O),a.fields||(a.fields=Array.isArray(a.data[0])?a.fields:typeof a.data[0]=="object"?Object.keys(a.data[0]):[]),Array.isArray(a.data[0])||typeof a.data[0]=="object"||(a.data=[a.data])),F(a.fields||[],a.data||[],X);throw new Error("Unable to serialize unrecognized input");function F($,L,ne){var U="",ae=(typeof $=="string"&&($=JSON.parse($)),typeof L=="string"&&(L=JSON.parse(L)),Array.isArray($)&&0<$.length),V=!Array.isArray(L[0]);if(ae&&b){for(var K=0;K<$.length;K++)0<K&&(U+=T),U+=k($[K],K);0<L.length&&(U+=_)}for(var G=0;G<L.length;G++){var Z=(ae?$:L[G]).length,B=!1,Q=ae?Object.keys(L[G]).length===0:L[G].length===0;if(ne&&!ae&&(B=ne==="greedy"?L[G].join("").trim()==="":L[G].length===1&&L[G][0].length===0),ne==="greedy"&&ae){for(var oe=[],te=0;te<Z;te++){var W=V?$[te]:te;oe.push(L[G][W])}B=oe.join("").trim()===""}if(!B){for(var P=0;P<Z;P++){0<P&&!Q&&(U+=T);var ie=ae&&V?$[P]:P;U+=k(L[G][ie],P)}G<L.length-1&&(!ne||0<Z&&!Q)&&(U+=_)}}return U}function k($,L){var ne,U;return $==null?"":$.constructor===Date?JSON.stringify($).slice(1,25):(U=!1,H&&typeof $=="string"&&H.test($)&&($="'"+$,U=!0),ne=$.toString().replace(S,j),(U=U||o===!0||typeof o=="function"&&o($,L)||Array.isArray(o)&&o[L]||((ae,V)=>{for(var K=0;K<V.length;K++)if(-1<ae.indexOf(V[K]))return!0;return!1})(ne,s.BAD_DELIMITERS)||-1<ne.indexOf(T)||ne.charAt(0)===" "||ne.charAt(ne.length-1)===" ")?v+ne+v:ne)}},s.RECORD_SEP="",s.UNIT_SEP="",s.BYTE_ORDER_MARK="\uFEFF",s.BAD_DELIMITERS=["\r",`
`,'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!e&&!!r.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=E,s.ParserHandle=C,s.NetworkStreamer=c,s.FileStreamer=h,s.StringStreamer=l,s.ReadableStreamStreamer=p,r.jQuery&&((m=r.jQuery).fn.parse=function(a){var i=a.config||{},o=[];return this.each(function(_){if(!(m(this).prop("tagName").toUpperCase()==="INPUT"&&m(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var v=0;v<this.files.length;v++)o.push({file:this.files[v],inputElem:this,instanceConfig:m.extend({},i)})}),b(),this;function b(){if(o.length===0)y(a.complete)&&a.complete();else{var _,v,j,X,O=o[0];if(y(a.before)){var H=a.before(O.file,O.inputElem);if(typeof H=="object"){if(H.action==="abort")return _="AbortError",v=O.file,j=O.inputElem,X=H.reason,void(y(a.error)&&a.error({name:_},v,j,X));if(H.action==="skip")return void T();typeof H.config=="object"&&(O.instanceConfig=m.extend(O.instanceConfig,H.config))}else if(H==="skip")return void T()}var S=O.instanceConfig.complete;O.instanceConfig.complete=function(F){y(S)&&S(F,O.file,O.inputElem),T()},s.parse(O.file,O.instanceConfig)}}function T(){o.splice(0,1),b()}}),t&&(r.onmessage=function(a){a=a.data,s.WORKER_ID===void 0&&a&&(s.WORKER_ID=a.workerId),typeof a.input=="string"?r.postMessage({workerId:s.WORKER_ID,results:s.parse(a.input,a.config),finished:!0}):(r.File&&a.input instanceof File||a.input instanceof Object)&&(a=s.parse(a.input,a.config))&&r.postMessage({workerId:s.WORKER_ID,results:a,finished:!0})}),(c.prototype=Object.create(d.prototype)).constructor=c,(h.prototype=Object.create(d.prototype)).constructor=h,(l.prototype=Object.create(l.prototype)).constructor=l,(p.prototype=Object.create(d.prototype)).constructor=p,s})});var Wt=Xe((gt,Gt)=>{(function(z,r){typeof define=="function"&&define.amd?define(r):typeof gt=="object"?Gt.exports=r():z.jsonLogic=r()})(gt,function(){"use strict";Array.isArray||(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"});function z(e){for(var t=[],f=0,n=e.length;f<n;f++)t.indexOf(e[f])===-1&&t.push(e[f]);return t}var r={},m={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"<":function(e,t,f){return f===void 0?e<t:e<t&&t<f},"<=":function(e,t,f){return f===void 0?e<=t:e<=t&&t<=f},"!!":function(e){return r.truthy(e)},"!":function(e){return!r.truthy(e)},"%":function(e,t){return e%t},log:function(e){return console.log(e),e},in:function(e,t){return!t||typeof t.indexOf>"u"?!1:t.indexOf(e)!==-1},cat:function(){return Array.prototype.join.call(arguments,"")},substr:function(e,t,f){if(f<0){var n=String(e).substr(t);return n.substr(0,n.length+f)}return String(e).substr(t,f)},"+":function(){return Array.prototype.reduce.call(arguments,function(e,t){return parseFloat(e,10)+parseFloat(t,10)},0)},"*":function(){return Array.prototype.reduce.call(arguments,function(e,t){return parseFloat(e,10)*parseFloat(t,10)})},"-":function(e,t){return t===void 0?-e:e-t},"/":function(e,t){return e/t},min:function(){return Math.min.apply(this,arguments)},max:function(){return Math.max.apply(this,arguments)},merge:function(){return Array.prototype.reduce.call(arguments,function(e,t){return e.concat(t)},[])},var:function(e,t){var f=t===void 0?null:t,n=this;if(typeof e>"u"||e===""||e===null)return n;for(var s=String(e).split("."),d=0;d<s.length;d++)if(n==null||(n=n[s[d]],n===void 0))return f;return n},missing:function(){for(var e=[],t=Array.isArray(arguments[0])?arguments[0]:arguments,f=0;f<t.length;f++){var n=t[f],s=r.apply({var:n},this);(s===null||s==="")&&e.push(n)}return e},missing_some:function(e,t){var f=r.apply({missing:t},this);return t.length-f.length>=e?[]:f}};return r.is_logic=function(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)&&Object.keys(e).length===1},r.truthy=function(e){return Array.isArray(e)&&e.length===0?!1:!!e},r.get_operator=function(e){return Object.keys(e)[0]},r.get_values=function(e){return e[r.get_operator(e)]},r.apply=function(e,t){if(Array.isArray(e))return e.map(function(x){return r.apply(x,t)});if(!r.is_logic(e))return e;var f=r.get_operator(e),n=e[f],s,d,c,h,l;if(Array.isArray(n)||(n=[n]),f==="if"||f=="?:"){for(s=0;s<n.length-1;s+=2)if(r.truthy(r.apply(n[s],t)))return r.apply(n[s+1],t);return n.length===s+1?r.apply(n[s],t):null}else if(f==="and"){for(s=0;s<n.length;s+=1)if(d=r.apply(n[s],t),!r.truthy(d))return d;return d}else if(f==="or"){for(s=0;s<n.length;s+=1)if(d=r.apply(n[s],t),r.truthy(d))return d;return d}else{if(f==="filter")return h=r.apply(n[0],t),c=n[1],Array.isArray(h)?h.filter(function(x){return r.truthy(r.apply(c,x))}):[];if(f==="map")return h=r.apply(n[0],t),c=n[1],Array.isArray(h)?h.map(function(x){return r.apply(c,x)}):[];if(f==="reduce")return h=r.apply(n[0],t),c=n[1],l=typeof n[2]<"u"?r.apply(n[2],t):null,Array.isArray(h)?h.reduce(function(x,E){return r.apply(c,{current:E,accumulator:x})},l):l;if(f==="all"){if(h=r.apply(n[0],t),c=n[1],!Array.isArray(h)||!h.length)return!1;for(s=0;s<h.length;s+=1)if(!r.truthy(r.apply(c,h[s])))return!1;return!0}else if(f==="none"){if(h=r.apply(n[0],t),c=n[1],!Array.isArray(h)||!h.length)return!0;for(s=0;s<h.length;s+=1)if(r.truthy(r.apply(c,h[s])))return!1;return!0}else if(f==="some"){if(h=r.apply(n[0],t),c=n[1],!Array.isArray(h)||!h.length)return!1;for(s=0;s<h.length;s+=1)if(r.truthy(r.apply(c,h[s])))return!0;return!1}}if(n=n.map(function(x){return r.apply(x,t)}),m.hasOwnProperty(f)&&typeof m[f]=="function")return m[f].apply(t,n);if(f.indexOf(".")>0){var p=String(f).split("."),C=m;for(s=0;s<p.length;s++){if(!C.hasOwnProperty(p[s]))throw new Error("Unrecognized operation "+f+" (failed at "+p.slice(0,s+1).join(".")+")");C=C[p[s]]}return C.apply(t,n)}throw new Error("Unrecognized operation "+f)},r.uses_data=function(e){var t=[];if(r.is_logic(e)){var f=r.get_operator(e),n=e[f];Array.isArray(n)||(n=[n]),f==="var"?t.push(n[0]):n.forEach(function(s){t.push.apply(t,r.uses_data(s))})}return z(t)},r.add_operation=function(e,t){m[e]=t},r.rm_operation=function(e){delete m[e]},r.rule_like=function(e,t){if(t===e||t==="@")return!0;if(t==="number")return typeof e=="number";if(t==="string")return typeof e=="string";if(t==="array")return Array.isArray(e)&&!r.is_logic(e);if(r.is_logic(t)){if(r.is_logic(e)){var f=r.get_operator(t),n=r.get_operator(e);if(f==="@"||f===n)return r.rule_like(r.get_values(e,!1),r.get_values(t,!1))}return!1}if(Array.isArray(t))if(Array.isArray(e)){if(t.length!==e.length)return!1;for(var s=0;s<t.length;s+=1)if(!r.rule_like(e[s],t[s]))return!1;return!0}else return!1;return!1},r})});var Yt=Xe((Lr,Vt)=>{var q=Jt(),qt=jt(),At=Wt();Vt.exports=class{constructor(r){let m=this;m.damon=r,m.domPurify=q,m.websiteRegex=/^(https?:\/\/)?[-a-zA-Z0-9]*[a-zA-Z0-9]+(\.[-a-zA-Z0-9]*[a-zA-Z0-9]+)+/,m.httpRegex=/^https?:\/\//,m.pathRegex=/^\.*\//}damonToHtmlTable(r){let m=this;return m.mapToHtmlTable(m.damon.damonToMap(r,0,!0))}damonToSExpression(r){let m=this;return m.prefixedKeysMapToSExpression(m.damon.damonToMap(r,0,!0))}sExpressionToDamon(r){let m=this;return m.damon.mapToDamon(m.sExpressionToPrefixedKeysMap(r),!1,!0)}escape(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}mapToHtmlList(r,m=!1,e=void 0){let t=this;try{t.damon.mapToJSON(r)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}var f=0,n=document.createElement("ul"),s;return e!==void 0&&(s=JSON.parse(e)),n.className="DAMON-List",d(r,n),n;function d(c,h,l=[]){if(typeof h!="object"||h==null||Array.isArray(h))throw new Error("Error List Item number "+f+": @param { {} } list");if(typeof c=="object"&&c!==null&&!Array.isArray(c)&&c instanceof Map&&c.constructor===Map){if(h.tagName=="UL")for(let[x,E]of c){let M=document.createElement("ul"),A=document.createElement("code"),N=document.createElement("span"),w=document.createElement("li");if(w.dataset.graphArbo=Array.from(c.keys()).indexOf(x),l.length>0&&(w.dataset.graphArbo=l.join("-")+"-"+Array.from(c.keys()).indexOf(x)),N.className="type-key",t.websiteRegex.test(x)||t.pathRegex.test(x)){let g=x;t.websiteRegex.test(x)&&!t.httpRegex.test(x)&&(g="https://"+x);let y=q.sanitize(`<a href="${g}"><span>${g}</span></a>`);N.innerHTML=y}else e!==void 0&&x in s["@context"]?N.innerHTML=q.sanitize(`<a href="${s["@context"][x]["@id"]}"><span>${x}</span></a>`):N.textContent=x;if(typeof E=="object"&&E!==null)if(Array.isArray(E))if(c.damonInlineArrays!==void 0&&c.damonInlineArrays.indexOf(x)>-1){A.innerHTML=N.outerHTML+'<span class="operator">: </span>[';for(let g=0,y=E.length;g<y;g++){let a=document.createElement("span"),i=E[g];if(i===!0)a.textContent="true",a.className="type-boolean";else if(i===!1)a.textContent="false",a.className="type-boolean";else if(i===null)a.textContent="null",a.className="type-null";else if(Number.isFinite(i)&&!Number.isNaN(i))a.textContent=i+"",a.className="type-number";else{if(m)if(t.websiteRegex.test(i)||t.pathRegex.test(i)){let o=i;t.websiteRegex.test(i)&&!t.httpRegex.test(i)&&(o="https://"+i),a.innerHTML=q.sanitize(`<a href="${o}">"${o}"</a>`)}else a.innerHTML=`"${i}"`;else if(t.websiteRegex.test(i)||t.pathRegex.test(i)){let o=i;!t.httpRegex.test(i)&&t.websiteRegex.test(i)&&(o="https://"+i),a.innerHTML=q.sanitize(`<a href="${o}">"${o}"</a>`)}else a.textContent=`"${i}"`;a.className="type-string"}g!==0&&(A.innerHTML+=", "),A.appendChild(a)}A.innerHTML+="]",w.appendChild(A),w.appendChild(M),h.appendChild(w)}else A.innerHTML=N.outerHTML+'<span class="operator">: </span>[]',w.appendChild(A),w.appendChild(M),h.appendChild(w),d(E,M,l.concat([Array.from(c.keys()).indexOf(x)]));else c.implicitMaps!==void 0&&c.implicitMaps.indexOf(x)>-1?A.innerHTML=N.outerHTML:A.innerHTML=N.outerHTML+'<span class="operator">: </span>{}',w.appendChild(A),w.appendChild(M),h.appendChild(w),d(E,M,l.concat([Array.from(c.keys()).indexOf(x)]));else{f++,A.innerHTML=N.outerHTML+'<span class="operator">: </span>';let g=document.createElement("span"),y=E;if(y===!0)g.textContent="true",g.className="type-boolean";else if(y===!1)g.textContent="false",g.className="type-boolean";else if(y===null)g.textContent="null",g.className="type-null";else if(Number.isFinite(y)&&!Number.isNaN(y))g.textContent=y+"",g.className="type-number";else{if(m)if(t.websiteRegex.test(y)||t.pathRegex.test(y)){let a=y;!t.httpRegex.test(y)&&t.websiteRegex.test(y)&&(a="https://"+y),g.innerHTML=q.sanitize(`<a href="${a}">"${a}"</a>`)}else g.innerHTML=`"${y}"`;else if(t.websiteRegex.test(y)||t.pathRegex.test(y)){let a=y;!t.httpRegex.test(y)&&t.websiteRegex.test(y)&&(a="https://"+y),g.innerHTML=q.sanitize(`<a href="${a}">"${a}"</a>`)}else g.textContent=`"${y}"`;g.className="type-string"}c.implicitNulls===void 0||c.implicitNulls.indexOf(x)==-1?A.appendChild(g):A.innerHTML=A.innerHTML.slice(0,-2),w.appendChild(A),h.appendChild(w)}}}else if(Array.isArray(c))for(var p=0,C=c.length;p<C;p++){let x=document.createElement("ul"),E=document.createElement("code"),M=document.createElement("li");if(M.dataset.graphArbo=p,l.length>0&&(M.dataset.graphArbo=l.join("-")+"-"+p),typeof c[p]=="object"&&c[p]!==null)if(Array.isArray(c[p]))if(c.damonInlineArrays!==void 0&&c.damonInlineArrays.indexOf(p)>-1){E.innerHTML+="[";for(let A=0,N=c[p].length;A<N;A++){let w=document.createElement("span"),g=c[p][A];if(g===!0)w.textContent="true",w.className="type-boolean";else if(g===!1)w.textContent="false",w.className="type-boolean";else if(g===null)w.textContent="null",w.className="type-null";else if(Number.isFinite(g)&&!Number.isNaN(g))w.textContent=g+"",w.className="type-number";else{if(m)if(t.websiteRegex.test(g)||t.pathRegex.test(g)){let y=g;!t.httpRegex.test(g)&&t.websiteRegex.test(g)&&(y="https://"+g),w.innerHTML=q.sanitize(`<a href="${y}">"${y}"</a>`)}else w.innerHTML=`"${g}"`;else if(t.websiteRegex.test(g)||t.pathRegex.test(g)){let y=g;!t.httpRegex.test(g)&&t.websiteRegex.test(g)&&(y="https://"+g),w.innerHTML=q.sanitize(`<a href="${y}">"${y}"</a>`)}else w.textContent=`"${g}"`;w.className="type-string"}A!==0&&(E.innerHTML+=", "),E.appendChild(w)}E.innerHTML+="]",M.appendChild(E),M.appendChild(x),h.appendChild(M)}else E.textContent="[]",M.appendChild(E),M.appendChild(x),h.appendChild(M),d(c[p],x,l.concat(p));else E.textContent="{}",M.appendChild(E),M.appendChild(x),h.appendChild(M),d(c[p],x,l.concat(p));else{f++;let A=c[p];if(A===!0)E.textContent="true",E.className="type-boolean";else if(A===!1)E.textContent="false",E.className="type-boolean";else if(A===null)E.textContent="null",E.className="type-null";else if(Number.isFinite(A)&&!Number.isNaN(A))E.textContent=A+"",E.className="type-number";else{if(m)if(t.websiteRegex.test(A)||t.pathRegex.test(A)){let N=A;!t.httpRegex.test(A)&&t.websiteRegex.test(A)&&(N="https://"+A),E.innerHTML=q.sanitize(`<a href="${N}">"${N}"</a>`)}else E.innerHTML=`"${A}"`;else if(t.websiteRegex.test(A)||t.pathRegex.test(A)){let N=A;!t.httpRegex.test(A)&&t.websiteRegex.test(A)&&(N="https://"+A),E.innerHTML=q.sanitize(`<a href="${N}">"${N}"</a>`)}else E.textContent=`"${A}"`;E.className="type-string"}M.appendChild(E),M.appendChild(x),h.appendChild(M)}}}}sliceIjsonKey(r){let m=r.match(/^[0-9]+-/);if(m[0]!==null)return r.slice(m[0].length);throw new Error(`Key "${r}" fails IJSON validation.`)}mapToHtmlTable(r,m=!1){let e=this;try{e.damon.mapToJSON(r)}catch{throw new Error("Provided value doesn't passes JSON.parse().")}var t=0,f=document.createElement("table"),n=document.createElement("thead"),s=document.createElement("tbody"),d=!1,c=0;if(f.className="DAMON-Table",typeof r!="object"||r==null||Array.isArray(r)||!(r instanceof Map)||r.constructor!==Map)throw new Error("Error: expected an Object value, saw otherwise.");for(let[h,l]of r){if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map){let p=Array.from(l.keys()).map(e.sliceIjsonKey),C=new Set(p);if(p.length!==C.size)throw new Error("Duplicate in headings.");if(t==0){let x=document.createElement("tr");c=l.length;for(let[E,M]of l){let A=e.sliceIjsonKey(E);if(M===null){let N=document.createElement("th");N.dataset.graphArbo=t+"-"+x.children.length,m?e.websiteRegex.test(A)||e.pathRegex.test(A)?N.innerHTML=q.sanitize(`<a href="${A}">${A}</a>`):N.innerHTML=`${A}`:e.websiteRegex.test(A)||e.pathRegex.test(A)?N.innerHTML=q.sanitize(`<a href="${A}">${A}</a>`):N.textContent=`${A}`,x.appendChild(N)}else throw new Error("Error row "+t+": expected implicit null property, saw otherwise.")}n.appendChild(x),d=!0}else{if(l.length!=c)throw new Error("Error row "+t+": cells total doesn't match the header's.");let x=document.createElement("tr");for(let[E,M]of l){let A=e.sliceIjsonKey(E);if(M===null){let N=document.createElement("td");N.dataset.graphArbo=t+"-"+x.children.length,m?e.websiteRegex.test(A)||e.pathRegex.test(A)?N.innerHTML=q.sanitize(`<a href="${A}">${A}</a>`):N.innerHTML=`${A}`:e.websiteRegex.test(A)||e.pathRegex.test(A)?N.innerHTML=q.sanitize(`<a href="${A}">${A}</a>`):N.textContent=`${A}`,x.appendChild(N)}else throw new Error("Error row "+t+": expected implicit null property, saw otherwise.")}s.appendChild(x)}}else throw new Error("Error row "+t+": expected an Object value, saw otherwise.");t++}return d&&f.appendChild(n),f.appendChild(s),f}prefixedKeysMapToSExpression(r){let m=this;var e="";if(typeof r=="object"&&r!==null&&r instanceof Map&&r.constructor===Map)return e+=`[\r
`,t(r),e+="]",JSON.parse(e),e;return typeof r=="string"&&(r='"'+r+'"'),JSON.parse(r),r;function t(f,n=1){if(typeof f=="object"&&f!==null&&!Array.isArray(f)&&f instanceof Map&&f.constructor===Map){let c=-1;for(let[h,l]of f){c++;let p=m.sliceIjsonKey(h);if(typeof l=="object"&&l!==null)if(Array.isArray(l))l.length>0?(e+="    ".repeat(n)+`${JSON.stringify(p)}, [\r
`,t(l,n+1),e+="    ".repeat(n)+"]"):e+="    ".repeat(n)+`${JSON.stringify(p)}, []`;else if(Array.from(l.keys()).length>0){if(n==1)if(c==0)e="";else throw new Error("Multiple S-Expression roots");e+="    ".repeat(n)+`[${JSON.stringify(p)}, \r
`,t(l,n+1),n!=1&&(e+="    ".repeat(n)+"]")}else e+="    ".repeat(n)+`${JSON.stringify(p)}, []`;else{if(l===!0)throw new Error("Booleans require quotes");if(l===!1)throw new Error("Booleans require quotes");l===null?e+="    ".repeat(n)+`${JSON.stringify(p)}`:Number.isFinite(l)&&!Number.isNaN(l)?e+="    ".repeat(n)+`${JSON.stringify(p)}, `+l:e+="    ".repeat(n)+`${JSON.stringify(p)}, `+JSON.stringify(l)}let C=Array.from(f.keys())[Array.from(f.keys()).length-1];h!=C?e+=`,\r
`:e+=`\r
`}}else if(Array.isArray(f))for(var s=0,d=f.length;s<d;s++){if(typeof f[s]=="object"&&f[s]!==null)Array.isArray(f[s])?f[s].length>0?(e+="    ".repeat(n)+`[\r
`,t(f[s],n+1),e+="    ".repeat(n)+"]"):e+="    ".repeat(n)+"[]":Array.from(f[s].keys()).length>0?(e+="    ".repeat(n)+`[\r
`,t(f[s],n+1),e+="    ".repeat(n)+"]"):e+="    ".repeat(n)+"[]";else{if(f[s]===!0)throw new Error("Booleans require quotes");if(f[s]===!1)throw new Error("Booleans require quotes");if(f[s]===null)throw new Error("Array-nulls require quotes");Number.isFinite(f[s])&&!Number.isNaN(f[s])?e+="    ".repeat(n)+f[s]:e+="    ".repeat(n)+JSON.stringify(f[s])}s!=d-1?e+=`,\r
`:e+=`\r
`}}}sExpressionToPrefixedKeysMap(r){let m=this,e=new Map;return e.headless=!0,t(JSON.parse(r),e,0),e;function t(f,n,s){let d=new Map;n.set(s+"-"+f[0],d);for(let c=1,h=f.length;c<h;c++)if(Array.isArray(f[c]))t(f[c],d,c-1);else{let l=c-1+"-"+f[c];d.set(l,null)}}}prefixedKeysMapToMathJs(r){let m=this,e="";if(Array.isArray(r))return f(r),e.slice(0,-1);return typeof r=="object"&&r!==null&&r instanceof Map&&r.constructor===Map?(f(r),e.slice(0,-1)):(typeof r=="string"&&(r=JSON.stringify(r)),JSON.parse(r),r);function t(n){return n[0].toLowerCase()+n.slice(1)}function f(n,s=0){if(typeof n=="object"&&n!==null&&!Array.isArray(n)&&n instanceof Map&&n.constructor===Map)for(let[h,l]of n){let p=m.sliceIjsonKey(h);p=="Power"&&(p="Pow"),p=="e"&&(p="2.718281828459045"),p=="i"&&(p="sqrt(-1)"),p=="LN2"&&(p="0.6931471805599453"),p=="LN10"&&(p="2.302585092994046"),p=="LOG2E"&&(p="1.4426950408889634"),p=="LOG10E"&&(p="0.4342944819032518"),p=="phi"&&(p="1.618033988749895"),p=="pi"&&(p="3.141592653589793"),p=="SQRT1_2"&&(p="0.7071067811865476"),p=="SQRT2"&&(p="1.4142135623730951"),p=="tau"&&(p="6.283185307179586"),typeof l=="object"&&l!==null?Array.isArray(l)?l.length>0?(e+="    ".repeat(s)+`${JSON.stringify(t(p)).slice(1,-1)}(
`,f(l,s+1),e+="    ".repeat(s)+")"):e+="    ".repeat(s)+`${JSON.stringify(t(p)).slice(1,-1)}()`:Array.from(l.keys()).length>0?(e+="    ".repeat(s)+`${JSON.stringify(t(p)).slice(1,-1)}(
`,f(l,s+1),e+="    ".repeat(s)+")"):e+="    ".repeat(s)+`${JSON.stringify(t(p)).slice(1,-1)}()`:l===!0?e+="    ".repeat(s)+`${JSON.stringify(t(p)).slice(1,-1)}(true)`:l===!1?e+="    ".repeat(s)+`${JSON.stringify(t(p)).slice(1,-1)}(false)`:l===null?e+="    ".repeat(s)+`${JSON.stringify(t(p)).slice(1,-1)}`:Number.isFinite(l)&&!Number.isNaN(l)?e+="    ".repeat(s)+`${JSON.stringify(t(p)).slice(1,-1)}(`+l+")":e+="    ".repeat(s)+`${JSON.stringify(t(p)).slice(1,-1)}(`+JSON.stringify(l)+")";let C=Array.from(n.keys())[Array.from(n.keys()).length-1];h!=C?e+=`,
`:e+=`
`}else if(Array.isArray(n))for(var d=0,c=n.length;d<c;d++)typeof n[d]=="object"&&n[d]!==null?Array.isArray(n[d])?n[d].length>0?n.damonInlineArrays!==void 0&&n.damonInlineArrays.indexOf(d)>-1?n[d]===!0?e+="    ".repeat(s)+"true":n[d]===!1?e+="    ".repeat(s)+"false":n[d]===null?e+="    ".repeat(s)+"null":Number.isFinite(n[d])&&!Number.isNaN(n[d])?e+="    ".repeat(s)+n[d]:e+="    ".repeat(s)+JSON.stringify(n[d]).slice(1,-1):(e+="    ".repeat(s)+`(
`,f(n[d],s+1),e+="    ".repeat(s)+")"):e+="    ".repeat(s)+"()":Array.from(n[d].keys()).length>0?(e+="    ".repeat(s)+`(
`,f(n[d],s+1),e+="    ".repeat(s)+")"):e+="    ".repeat(s)+"()":n[d]===!0?e+="    ".repeat(s)+"true":n[d]===!1?e+="    ".repeat(s)+"false":n[d]===null?e+="    ".repeat(s)+"null":Number.isFinite(n[d])&&!Number.isNaN(n[d])?e+="    ".repeat(s)+n[d]:e+="    ".repeat(s)+JSON.stringify(n[d]).slice(1,-1),d!=c-1?e+=`,
`:e+=`
`}}_mapsDiff(r,m){let e=this;try{e.damon.mapToJSON(r),e.damon.mapToJSON(m)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}if(typeof r!=typeof m||typeof r=="object"&&r!==null&&!Array.isArray(r)&&r instanceof Map&&r.constructor===Map&&(m==null||Array.isArray(m)||!(m instanceof Map)||m.constructor!==Map))throw new Error("Different root types.");var t;if(typeof r=="object"&&r!==null&&!Array.isArray(r)&&r instanceof Map&&r.constructor===Map)return t=new Map,f(r),t;if(Array.isArray(r))return t=[],f(r),t;function f(n,s=[]){if(typeof n=="object"&&n!==null&&!Array.isArray(n)&&n instanceof Map&&n.constructor===Map){let d="",c=null,h=m;for(let C=0,x=s.length;C<x;C++)typeof h=="object"&&h!==null&&!Array.isArray(h)&&h instanceof Map&&h.constructor===Map?h=h.get(Array.from(h.keys())[s[C]]):h=h[s[C]];let l=t;for(let C=0,x=s.length;C<x;C++)typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map&&Array.from(l.keys()).length?l=l.get(Array.from(l.keys())[s[C]]):l=l[s[C]];let p=0;for(let[C,x]of n)p>Array.from(h.keys()).length-1?typeof x=="object"&&x!==null&&!Array.isArray(x)&&x instanceof Map&&x.constructor===Map?Array.from(h.keys()).indexOf(C)!==-1&&typeof h.get(C)=="object"&&h.get(C)!==null&&!Array.isArray(h.get(C))&&h.get(C)instanceof Map&&h.get(C).constructor===Map?l.set(p+"-yellow",null):l.set(p+"-red",null):Array.isArray(x)?Array.from(h.keys()).indexOf(C)!==-1&&Array.isArray(h.get(C))?l.set(p+"-yellow",null):l.set(p+"-red",null):Array.from(h.keys()).indexOf(C)!==-1&&x===h.get(C)?l.set(p+"-yellow",null):l.set(p+"-red",null):(d=Array.from(h.keys())[p],c=h.get(d),typeof x=="object"&&x!==null&&!Array.isArray(x)&&x instanceof Map&&x.constructor===Map?typeof c=="object"&&c!==null&&!Array.isArray(c)&&c instanceof Map&&c.constructor===Map&&C===d?(l.set(p+"-green",new Map),Array.from(x.keys()).length>0&&f(x,s.concat([p]))):l.set(p+"-red",null):Array.isArray(x)?Array.isArray(c)&&C===d?(l.set(p+"-green",[]),x.length>0&&f(x,s.concat([p]))):l.set(p+"-red",null):x===c&&C===d?l.set(p+"-green","green"):l.set(p+"-red",null)),p++;if(Array.from(n.keys()).length<Array.from(h.keys()).length){let C=0;for(let[x,E]of h){if(C<=p-1){C++;continue}typeof E=="object"&&E!==null&&!Array.isArray(E)&&E instanceof Map&&E.constructor===Map?Array.from(n.keys()).indexOf(x)!==-1&&typeof n.get(x)=="object"&&n.get(x)!==null&&!Array.isArray(n.get(x))&&n.get(x)instanceof Map&&n.get(x).constructor===Map?l.set(p+"-yellow",null):l.set(p+"-red",null):Array.isArray(E)?Array.from(n.keys()).indexOf(x)!==-1&&Array.isArray(n.get(x))?l.set(p+"-yellow",null):l.set(p+"-red",null):Array.from(n.keys()).indexOf(x)!==-1&&E===n.get(x)?l.set(p+"-yellow",null):l.set(p+"-red",null),C++}}}else{let d=null,c=m;for(let l=0,p=s.length;l<p;l++)typeof c=="object"&&c!==null&&!Array.isArray(c)&&c instanceof Map&&c.constructor===Map&&Array.from(c.keys()).length?c=c.get(Array.from(c.keys())[s[l]]):c=c[s[l]];let h=t;for(let l=0,p=s.length;l<p;l++)typeof h=="object"&&h!==null&&!Array.isArray(h)&&h instanceof Map&&h.constructor===Map&&Array.from(h.keys()).length?h=h.get(Array.from(h.keys())[s[l]]):h=h[s[l]];for(let l=0,p=n.length;l<p;l++)l>c.length-1?h[l]="red":(d=c[l],typeof n[l]=="object"&&n[l]!==null&&!Array.isArray(n[l])&&n[l]instanceof Map&&n[l].constructor===Map?typeof d=="object"&&d!==null&&!Array.isArray(d)&&d instanceof Map&&d.constructor===Map?(h[l]=new Map,Array.from(n[l].keys()).length>0&&f(n[l],s.concat([l]))):h[l]="red":Array.isArray(n[l])?Array.isArray(d)?(h[l]=[],n[l].length>0&&f(n[l],s.concat([l]))):h[l]="red":n[l]===d?h[l]="green":h[l]="red");if(n.length<c.length)for(let l=0,p=c.length;l<p;l++)l<=n.length-1||(h[l]="red")}}}sortMap(r,m){let e=this,t=Array.from(r.keys()),f=Array.from(m.keys()),n=new Map;for(let s=0,d=t.length;s<d;s++)m.get(t[s])!==void 0&&n.set(t[s],m.get(t[s]));for(let s=0,d=f.length;s<d;s++)t.indexOf(f[s])==-1&&n.set(f[s],m.get(f[s]));return n}renderDiff(r,m,e=!1){let t=this,f=document.createElement("div"),n=document.createElement("div"),s=document.createElement("ul"),d=t._mapsDiff(r,m);return f.className="DAMON-Diff",n.className="DAMON-Diff-legend",s.className="DAMON-List",n.innerHTML='<span id="damonDiffRed"><span>Red</span>: Difference</span>; <span id="damonDiffBlue"><span>Blue</span>: Addition</span>; <span id="damonDiffGreen"><span>Green</span>: Displacement</span>',c(d,s),f.appendChild(n),f.appendChild(s),f;function c(l,p,C=[],x="green"){if(x==="green"){if(typeof p!="object"||p==null||Array.isArray(p))throw new Error("Error List Item "+C.concat("-")+": @param { {} } list");if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map){if(p.tagName=="UL"){let A="",N=null,w=r;for(let o=0,b=C.length;o<b;o++)typeof w=="object"&&w!==null&&!Array.isArray(w)&&w instanceof Map&&w.constructor===Map?w=w.get(Array.from(w.keys())[C[o]]):w=w[C[o]];let g="",y=null,a=m;for(let o=0,b=C.length;o<b;o++)typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map?a=a.get(Array.from(a.keys())[C[o]]):a=a[C[o]];let i=0;for(let[o,b]of l){let T=Array.from(l.keys())[i].split("-")[1],_=l.get(Array.from(l.keys())[i]),v=document.createElement("ul"),j=document.createElement("code"),X=document.createElement("span"),O=document.createElement("li");if(X.className="type-key",O.className=T+"-diff",O.className==="red-diff"&&i<=Array.from(w.keys()).length-1?i>Array.from(a.keys()).length-1?(o="",b=""):(i>Array.from(w.keys()).length-1&&(O.className="blue-diff",O.setAttribute("aria-describedby","damonDiffBlue")),g=Array.from(a.keys())[i],y=a.get(g),o=g,b=y):O.className==="green-diff"?(O.dataset.graphArbo=i,C.length>0&&(O.dataset.graphArbo=C.join("-")+"-"+i),O.className="",A=Array.from(a.keys())[i],N=a.get(A),o=A,b=N):O.className==="yellow-diff"?i>Array.from(w.keys()).length-1?(O.className="green-diff",O.setAttribute("aria-describedby","damonDiffGreen"),A=Array.from(a.keys())[i],N=a.get(A),o=A,b=N):(o="",b="",O.className="red-diff",O.setAttribute("aria-describedby","damonDiffRed")):(O.className="blue-diff",O.setAttribute("aria-describedby","damonDiffBlue"),A=Array.from(a.keys())[i],N=a.get(A),o=A,b=N),O.className==="red-diff"&&O.setAttribute("aria-describedby","damonDiffRed"),t.websiteRegex.test(o)||t.pathRegex.test(o)){let H=o;!t.httpRegex.test(o)&&t.websiteRegex.test(o)&&(H="https://"+o);let S=q.sanitize(`<a href="${H}"><span>${H}</span></a>`);X.innerHTML=S}else X.textContent=o;if(typeof b=="object"&&b!==null)if(Array.isArray(b))if(r.damonInlineArrays!==void 0&&r.damonInlineArrays.indexOf(o)>-1){j.innerHTML=X.outerHTML+'<span class="operator">: </span>[';for(let H=0,S=b.length;H<S;H++){let F=document.createElement("span"),k=b[H];if(k===!0)F.textContent="true",F.className="type-boolean";else if(k===!1)F.textContent="false",F.className="type-boolean";else if(k===null)F.textContent="null",F.className="type-null";else if(Number.isFinite(k)&&!Number.isNaN(k))F.textContent=k+"",F.className="type-number";else{if(e)if(t.websiteRegex.test(k)||t.pathRegex.test(k)){let $=k;!t.httpRegex.test(k)&&t.websiteRegex.test(k)&&($="https://"+k),F.innerHTML=q.sanitize(`<a href="${$}">"${$}"</a>`)}else F.innerHTML=`"${k}"`;else if(t.websiteRegex.test(k)||t.pathRegex.test(k)){let $=k;!t.httpRegex.test(k)&&t.websiteRegex.test(k)&&($="https://"+k),F.innerHTML=q.sanitize(`<a href="${$}">"${$}"</a>`)}else F.textContent=`"${k}"`;F.className="type-string"}H!==0&&(j.innerHTML+=", "),j.appendChild(F)}j.innerHTML+="]",O.appendChild(j),O.appendChild(v),p.appendChild(O)}else j.innerHTML=X.outerHTML+'<span class="operator">: </span>[]',O.appendChild(j),O.appendChild(v),p.appendChild(O),T=="green"?c(_,v,C.concat([i]),T):c(_,v,C.concat([i]),T);else r.implicitMaps!==void 0&&r.implicitMaps.indexOf(o)>-1?j.innerHTML=X.outerHTML:j.innerHTML=X.outerHTML+'<span class="operator">: </span>{}',O.appendChild(j),O.appendChild(v),p.appendChild(O),T=="green"?c(_,v,C.concat([i]),T):c(_,v,C.concat([i]),T);else{j.innerHTML=X.outerHTML+'<span class="operator">: </span>';let H=document.createElement("span"),S=b;if(S===!0)H.textContent="true",H.className="type-boolean";else if(S===!1)H.textContent="false",H.className="type-boolean";else if(S===null)H.textContent="null",H.className="type-null";else if(Number.isFinite(S)&&!Number.isNaN(S))H.textContent=S+"",H.className="type-number";else{if(e)if(t.websiteRegex.test(S)||t.pathRegex.test(S)){let F=S;!t.httpRegex.test(S)&&t.websiteRegex.test(S)&&(F="https://"+S),H.innerHTML=q.sanitize(`<a href="${F}">"${F}"</a>`)}else H.innerHTML=`"${S}"`;else if(t.websiteRegex.test(S)||t.pathRegex.test(S)){let F=S;!t.httpRegex.test(S)&&t.websiteRegex.test(S)&&(F="https://"+S),H.innerHTML=q.sanitize(`<a href="${F}">"${F}"</a>`)}else H.textContent=`"${S}"`;H.className="type-string"}r.implicitNulls===void 0||r.implicitNulls.indexOf(o)==-1?j.appendChild(H):j.innerHTML=j.innerHTML.slice(0,-2),O.appendChild(j),p.appendChild(O)}i++}}}else if(Array.isArray(l)){let A=r;for(let w=0,g=C.length;w<g;w++)typeof A=="object"&&A!==null&&!Array.isArray(A)&&A instanceof Map&&A.constructor===Map&&Array.from(A.keys()).length?A=A.get(Array.from(A.keys())[C[w]]):A=A[C[w]];let N=m;for(let w=0,g=C.length;w<g;w++)typeof N=="object"&&N!==null&&!Array.isArray(N)&&N instanceof Map&&N.constructor===Map&&Array.from(N.keys()).length?N=N.get(Array.from(N.keys())[C[w]]):N=N[C[w]];for(var E=0,M=l.length;E<M;E++){let w=document.createElement("ul"),g=document.createElement("code"),y=document.createElement("li"),a="green",i;if(y.className="green-diff",typeof l[E]=="string"&&(a=l[E],y.className=l[E]+"-diff"),y.className==="red-diff"&&E<=A.length-1?E>N.length-1?i="":(E>A.length-1&&(y.className=="red-diff"?(y.className="blue-diff",y.setAttribute("aria-describedby","damonDiffBlue")):(y.className="green-diff",y.setAttribute("aria-describedby","damonDiffGreen"))),i=N[E]):(y.className==="green-diff"?(y.dataset.graphArbo=E,C.length>0&&(y.dataset.graphArbo=C.join("-")+"-"+E),y.className=""):(y.className="blue-diff",y.setAttribute("aria-describedby","damonDiffBlue")),i=A[E]),y.className==="red-diff"&&y.setAttribute("aria-describedby","damonDiffRed"),typeof i=="object"&&i!==null)if(Array.isArray(i))if(r.damonInlineArrays!==void 0&&r.damonInlineArrays.indexOf(E)>-1){g.innerHTML+="[";for(let o=0,b=i.length;o<b;o++){let T=document.createElement("span"),_=i[o];if(_===!0)T.textContent="true",T.className="type-boolean";else if(_===!1)T.textContent="false",T.className="type-boolean";else if(_===null)T.textContent="null",T.className="type-null";else if(Number.isFinite(_)&&!Number.isNaN(_))T.textContent=_+"",T.className="type-number";else{if(e)if(t.websiteRegex.test(_)||t.pathRegex.test(_)){let v=_;!t.httpRegex.test(_)&&t.websiteRegex.test(_)&&(v="https://"+_),T.innerHTML=q.sanitize(`<a href="${v}">"${v}"</a>`)}else T.innerHTML=`"${_}"`;else if(t.websiteRegex.test(_)||t.pathRegex.test(_)){let v=_;!t.httpRegex.test(_)&&t.websiteRegex.test(_)&&(v="https://"+_),T.innerHTML=q.sanitize(`<a href="${v}">"${v}"</a>`)}else T.textContent=`"${_}"`;T.className="type-string"}o!==0&&(g.innerHTML+=", ")}g.innerHTML+="]",y.appendChild(g),y.appendChild(w),p.appendChild(y)}else g.textContent="[]",y.appendChild(g),y.appendChild(w),p.appendChild(y),c(l[E],w,C.concat([E]),a);else g.textContent="{}",y.appendChild(g),y.appendChild(w),p.appendChild(y),c(l[E],w,C.concat([E]),a);else{let o=i;if(o===!0)g.textContent="true",g.className="type-boolean";else if(o===!1)g.textContent="false",g.className="type-boolean";else if(o===null)g.textContent="null",g.className="type-null";else if(Number.isFinite(o)&&!Number.isNaN(o))g.textContent=o+"",g.className="type-number";else{if(e)if(t.websiteRegex.test(o)||t.pathRegex.test(o)){let b=o;!t.httpRegex.test(o)&&t.websiteRegex.test(o)&&(b="https://"+o),g.innerHTML=q.sanitize(`<a href="${b}">"${b}"</a>`)}else g.innerHTML=`"${o}"`;else if(t.websiteRegex.test(o)||t.pathRegex.test(o)){let b=o;!t.httpRegex.test(o)&&t.websiteRegex.test(o)&&(b="https://"+o),g.innerHTML=q.sanitize(`<a href="${b}">"${b}"</a>`)}else g.textContent=`"${o}"`;g.className="type-string"}y.appendChild(g),y.appendChild(w),p.appendChild(y)}}}}else if(["red","yellow"].indexOf(x)>-1){let A=m;for(let N=0,w=C.length;N<w;N++)typeof A=="object"&&A!==null&&!Array.isArray(A)&&A instanceof Map&&A.constructor===Map?A=A.get(Array.from(A.keys())[C[N]]):A=A[C[N]];h(A,p,C,x)}}function h(l,p,C,x){if(typeof p!="object"||p==null||Array.isArray(p))throw new Error("Error List Item "+C.concat("-")+": @param { {} } list");if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map){if(p.tagName=="UL"){let A=0;for(let[N,w]of l){let g=document.createElement("ul"),y=document.createElement("code"),a=document.createElement("span"),i=document.createElement("li");if(a.className="type-key",i.className="red-diff",i.setAttribute("aria-describedby","damonDiffRed"),t.websiteRegex.test(N)||t.pathRegex.test(N)){let o=N;!t.httpRegex.test(N)&&t.websiteRegex.test(N)&&(o="https://"+N);let b=q.sanitize(`<a href="${o}">${o}</a>`);a.innerHTML=b}else a.textContent=N;if(typeof w=="object"&&w!==null)if(Array.isArray(w))if(l.damonInlineArrays!==void 0&&l.damonInlineArrays.indexOf(N)>-1){y.innerHTML=a.outerHTML+'<span class="operator">: </span>[';for(let o=0,b=w.length;o<b;o++){let T=document.createElement("span"),_=w[o];if(_===!0)T.textContent="true",T.className="type-boolean";else if(_===!1)T.textContent="false",T.className="type-boolean";else if(_===null)T.textContent="null",T.className="type-null";else if(Number.isFinite(_)&&!Number.isNaN(_))T.textContent=_+"",T.className="type-number";else{if(e)if(t.websiteRegex.test(_)||t.pathRegex.test(_)){let v=_;!t.httpRegex.test(_)&&t.websiteRegex.test(_)&&(v="https://"+_),T.innerHTML=q.sanitize(`<a href="${v}">"${v}"</a>`)}else T.innerHTML=`"${_}"`;else if(t.websiteRegex.test(_)||t.pathRegex.test(_)){let v=_;!t.httpRegex.test(_)&&t.websiteRegex.test(_)&&(v="https://"+_),T.innerHTML=q.sanitize(`<a href="${v}">"${v}"</a>`)}else T.textContent=`"${_}"`;T.className="type-string"}o!==0&&(y.innerHTML+=", "),y.appendChild(T)}y.innerHTML+="]",i.appendChild(y),i.appendChild(g),p.appendChild(i)}else y.innerHTML=a.outerHTML+'<span class="operator">: </span>[]',i.appendChild(y),i.appendChild(g),p.appendChild(i),h(w,g,C.concat([A]),x);else l.implicitMaps!==void 0&&l.implicitMaps.indexOf(N)>-1?y.innerHTML=a.outerHTML:y.innerHTML=a.outerHTML+'<span class="operator">: </span>{}',i.appendChild(y),i.appendChild(g),p.appendChild(i),h(w,g,C.concat([A]),x);else{y.innerHTML=a.outerHTML+'<span class="operator">: </span>';let o=document.createElement("span"),b=w;if(b===!0)o.textContent="true",o.className="type-boolean";else if(b===!1)o.textContent="false",o.className="type-boolean";else if(b===null)o.textContent="null",o.className="type-null";else if(Number.isFinite(b)&&!Number.isNaN(b))o.textContent=b+"",o.className="type-number";else{if(e)if(t.websiteRegex.test(b)||t.pathRegex.test(b)){let T=b;!t.httpRegex.test(b)&&t.websiteRegex.test(b)&&(T="https://"+b),o.innerHTML=q.sanitize(`<a href="${T}">"${T}"</a>`)}else o.innerHTML=`"${b}"`;else if(t.websiteRegex.test(b)||t.pathRegex.test(b)){let T=b;!t.httpRegex.test(b)&&t.websiteRegex.test(b)&&(T="https://"+b),o.innerHTML=q.sanitize(`<a href="${T}">"${T}"</a>`)}else o.textContent=`"${b}"`;o.className="type-string"}l.implicitNulls===void 0||l.implicitNulls.indexOf(N)==-1?y.appendChild(o):y.innerHTML=y.innerHTML.slice(0,-2),i.appendChild(y),p.appendChild(i)}A++}}}else if(Array.isArray(l))for(var E=0,M=l.length;E<M;E++){let A=document.createElement("ul"),N=document.createElement("code"),w=document.createElement("li");if(w.className=l[E]+"-diff",w.setAttribute("aria-describedby","damonDiffRed"),typeof l[E]=="object"&&l[E]!==null)if(Array.isArray(l[E]))if(l.damonInlineArrays!==void 0&&l.damonInlineArrays.indexOf(E)>-1){N.innerHTML+="[";for(let g=0,y=l[E].length;g<y;g++){let a=document.createElement("span"),i=l[E][g];if(i===!0)a.textContent="true",a.className="type-boolean";else if(i===!1)a.textContent="false",a.className="type-boolean";else if(i===null)a.textContent="null",a.className="type-null";else if(Number.isFinite(i)&&!Number.isNaN(i))a.textContent=i+"",a.className="type-number";else{if(e)if(t.websiteRegex.test(i)||t.pathRegex.test(i)){let o=i;!t.httpRegex.test(i)&&t.websiteRegex.test(i)&&(o="https://"+i),a.innerHTML=q.sanitize(`<a href="${o}">"${o}"</a>`)}else a.innerHTML=`"${i}"`;else if(t.websiteRegex.test(i)||t.pathRegex.test(i)){let o=i;!t.httpRegex.test(i)&&t.websiteRegex.test(i)&&(o="https://"+i),a.innerHTML=q.sanitize(`<a href="${o}">"${o}"</a>`)}else a.textContent=`"${i}"`;a.className="type-string"}g!==0&&(N.innerHTML+=", "),N.appendChild(a)}N.innerHTML+="]",w.appendChild(N),w.appendChild(A),p.appendChild(w)}else N.textContent="[]",w.appendChild(N),w.appendChild(A),p.appendChild(w),h(l[E],A,C.concat([E]),x);else N.textContent="{}",w.appendChild(N),w.appendChild(A),p.appendChild(w),h(l[E],A,C.concat([E]),x);else{let g=l[E];if(g===!0)N.textContent="true",N.className="type-boolean";else if(g===!1)N.textContent="false",N.className="type-boolean";else if(g===null)N.textContent="null",N.className="type-null";else if(Number.isFinite(g)&&!Number.isNaN(g))N.textContent=g+"",N.className="type-number";else{if(e)if(t.websiteRegex.test(g)||t.pathRegex.test(g)){let y=g;!t.httpRegex.test(g)&&t.websiteRegex.test(g)&&(y="https://"+g),N.innerHTML=q.sanitize(`<a href="${y}">"${y}"</a>`)}else N.innerHTML=`"${g}"`;else if(t.websiteRegex.test(g)||t.pathRegex.test(g)){let y=g;!t.httpRegex.test(g)&&t.websiteRegex.test(g)&&(y="https://"+g),N.innerHTML=q.sanitize(`<a href="${y}">"${y}"</a>`)}else N.textContent=`"${g}"`;N.className="type-string"}w.appendChild(N),w.appendChild(A),p.appendChild(w)}}}}damonTableMapToCSV(r){let m=this,e="";for(let[t,f]of r){let n=Array.from(f.keys()),s=Array.from(n).map(m.sliceIjsonKey),d=new Set(s);if(s.length!==d.size)throw new Error("Duplicate in headings.");for(let c=0,h=n.length;c<h;c++){let l=m.sliceIjsonKey(n[c]);e+=qt.unparse([[l]],{quotes:!0}),c!=h-1&&(e+=",")}e+=`
`}return e.slice(0,-1)}damonTableMapToJSON(r,m="array-rows"){let e=this;if(m=="array-rows"){let t=`[
`;for(let[f,n]of r){t+="    [";let s=Array.from(n.keys()),d=Array.from(s).map(e.sliceIjsonKey),c=new Set(d);if(d.length!==c.size)throw new Error("Duplicate in headings.");for(let h=0,l=s.length;h<l;h++){let p=e.sliceIjsonKey(s[h]);t+=JSON.stringify(p),h!=l-1&&(t+=", ")}t+=`],
`}return t=t.slice(0,-2)+`
]`,t}else{let t=`[
`,f=-1,n=new Map;for(let[s,d]of r){f++;let c=Array.from(d.keys()).map(e.sliceIjsonKey),h=new Set(c);if(c.length!==h.size)throw new Error("Duplicate in headings.");if(f===0)for(let[l,p]of d)n.set(e.sliceIjsonKey(l),null);else{let l=-1,p=Array.from(d.keys());for(let[C,x]of n)l++,p[l]?n.set(C,e.sliceIjsonKey(p[l])):n.set(C,null);t+=e.damon.mapToJSON(n).split(`
`).map(C=>"   "+C).join(`
`),t+=`,
`}}return t=t.slice(0,-2)+`
]`,t}}csvToDamonTable(r){let m=this,e=qt.parse(r);if(e.meta.aborted)throw new Error("CSV parsing failed");return m.jsonToDamonTable(JSON.stringify(e.data))}jsonToDamonTable(r,m="array-rows"){let e=this,t=new Map;if(m==="array-rows"){let f=JSON.parse(r);for(let n=0,s=f.length;n<s;n++){let d=new Map,c=n+"-"+(n+"");d.implicitNulls=[],t.set(c,d);let h=f[n];for(let l=0,p=h.length;l<p;l++)t.get(c).set(l+"-"+h[l],null),t.get(c).implicitNulls.push(h[l])}}else{let f=e.damon.jsonToMap(r);t.set("0-0",new Map);let n=-1;for(let[s,d]of f[0])n++,t.get("0-0").set(n+"-"+s,null);for(let s=0,d=f.length;s<d;s++){let c=s+1+"-"+(s+1);t.set(c,new Map);let h=-1;for(let[l,p]of f[s])h++,t.get(c).set(h+"-"+p,null)}}return t.headless=!0,e.damon.mapToDamon(t,!1,!0)}wrapListContentsForStyling(r){let m=this;for(let e=0,t=r.length;e<t;e++){let f=document.createElement("div");for(let n=r[e].childNodes.length-1;n>=0;n--)(r[e].childNodes[n].tagName&&r[e].childNodes[n].tagName!=="UL"&&r[e].childNodes[n].tagName!=="OL"||r[e].childNodes[n].nodeType==3&&r[e].childNodes[n].data!=`
`&&r[e].childNodes[n].data!=`\r
`)&&(f.childNodes.length==0?f.appendChild(r[e].childNodes[n]):f.insertBefore(r[e].childNodes[n],f.childNodes[0]));r[e].firstElementChild?r[e].insertBefore(f,r[e].firstElementChild):r[e].appendChild(f)}}addLineNumbers(r,m,e=0){let t=this,f=m.querySelectorAll("li[data-graph-arbo]");for(let n=0,s=f.length;n<s;n++){let d=document.createElement("div");d.className="damon-line-number";let c=t.damon.damonToMap(r),h=f[n].dataset.graphArbo.split("-"),l=[];for(let p=0,C=h.length;p<C;p++)typeof c=="object"&&c!==null&&!Array.isArray(c)&&c instanceof Map&&c.constructor===Map?(l.push(Array.from(c.keys())[h[p]]),c=c.get(l[p])):(l.push(parseInt(h[p])),c=c[l[p]]);d.textContent=t.damon.getRangeFromPath(r,l)[0][0]+1+e,d.id="damonLine"+d.textContent,f[n].setAttribute("aria-labelledBy",d.id),d.style.top=m.scrollTop+f[n].firstElementChild.getBoundingClientRect().top-m.getBoundingClientRect().top+"px",m.appendChild(d)}}addTableLineNumbers(r,m,e=0){let t=this,f=m.querySelectorAll("th[data-graph-arbo]:first-child, td[data-graph-arbo]:first-child");for(let n=0,s=f.length;n<s;n++){let d=document.createElement("div");d.className="damon-line-number",d.textContent=t.damon.getRangeFromPath(r,[Array.from(t.damon.damonToMap(r).keys())[n]])[0][0]+1+e,d.id="damonLine"+d.textContent,f[n].setAttribute("aria-labelledBy",d.id),d.style.top=m.scrollTop+f[n].getBoundingClientRect().top-m.getBoundingClientRect().top+"px",m.appendChild(d)}}damonGraphMapToMermaid(r,m=0){let e=this,t="";if(typeof r!="object"||r===null||Array.isArray(r)||!(r instanceof Map)||r.constructor!==Map)throw new Error("Error: input does not conform to Map type");let f=0;for(let[n,s]of r){if(f++,s===null){t+=n+`\r
`;continue}if(typeof s!="object"||Array.isArray(s)||!(s instanceof Map)||s.constructor!==Map)throw new Error("Error line "+e.damon.mapIndexToLine(r,f)+m+": value does not conform to Map type");if(Array.from(s.keys()).length)for(let[d,c]of s){if(f++,typeof c!="string")throw new Error("Error line "+e.damon.mapIndexToLine(r,f)+m+": value does not conform to String type");let h=c.split(",");for(let l=0,p=h.length;l<p;l++)t+=n+" "+d+" "+h[l]+`\r
`}else t+=n+`\r
`}return t.slice(0,-2)}damonDecisionMapToHtmlTable(r,m,e,t,f){let n=this;return n.arrayDecisionTableToHtml(n.damonDecisionMapToArrayTable(r,m,e,t,f))}damonDecisionMapToArrayTable(r,m,e,t,f){let n=this,s=Array.from(r.keys()).map(E=>[n.sliceIjsonKey(E),E]),d=[],c=[],h=[],l=[];if(s.find(E=>E[0]=="booleans")!==void 0){h=Array.from(r.get(s.find(A=>A[0]=="booleans")[1]).keys());let E=h.map(n.sliceIjsonKey),M=new Set(E);if(E.length!==M.size)throw new Error("Duplicate in booleans.");d=n.generateTruthTable(h,m,e,t,f)}if(s.find(E=>E[0]=="befores")!==void 0){let E=s.find(y=>y[0]=="befores")[1],M=r.get(E);if(typeof M!="object"||M===null||Array.isArray(M)||!(M instanceof Map)||M.constructor!==Map)throw new Error('"befores" key requires a dictionary.');c=Array.from(M.keys());let A=c.map(n.sliceIjsonKey),N=new Set(A);if(A.length!==N.size)throw new Error("Duplicate in befores.");let w=[];for(let y=0,a=c.length;y<a;y++){let i=M.get(c[y]);if(typeof i=="object"&&i!==null&&!Array.isArray(i)&&i instanceof Map&&i.constructor===Map){let o=Array.from(i.keys());w.push(o)}else if(i===null)w.push([]);else if(i!==null)throw new Error('"befores" keys requires a dictionary.')}let g=Math.max.apply(null,w.map(y=>y.length).concat([d.length]));for(let y=w.length-1,a=-1;y>a;y--)for(let i=0,o=g;i<o;i++){let b=!1;if(d[i]||(d[i]=[],b=!0),i<w[y].length?d[i].unshift(n.sliceIjsonKey(w[y][i])):d[i].unshift(""),b)for(let T=0,_=h.length;T<_;T++)d[i].push("")}}if(s.find(E=>E[0]=="afters")!==void 0){let E=s.find(y=>y[0]=="afters")[1],M=r.get(E);if(typeof M!="object"||M===null||Array.isArray(M)||!(M instanceof Map)||M.constructor!==Map)throw new Error('"afters" key requires a dictionary.');l=Array.from(M.keys());let A=l.map(n.sliceIjsonKey),N=new Set(A);if(A.length!==N.size)throw new Error("Duplicate in afters.");let w=[];for(let y=0,a=l.length;y<a;y++){let i=M.get(l[y]);if(typeof i=="object"&&i!==null&&!Array.isArray(i)&&i instanceof Map&&i.constructor===Map){let o=Array.from(i.keys());w.push(o)}else if(i===null)w.push([]);else if(i!==null)throw new Error('"afters" keys requires a dictionary.')}let g=Math.max.apply(null,w.map(y=>y.length).concat([d.length]));for(let y=0,a=w.length;y<a;y++)for(let i=0,o=g;i<o;i++){d[i]||(d[i]=[]);let b=c.length+h.length;if(d[i].length<b)for(let T=0,_=b;T<_;T++)d[i].push("");i<w[y].length?d[i].push(n.sliceIjsonKey(w[y][i])):d[i].push("")}if(s.find(y=>y[0]=="rules")!==void 0){let i=function(_,v){return new regex(_).test(v)};var x=i;let y=s.find(_=>_[0]=="rules")[1],a=r.get(y);if(typeof a!="object"||a===null||Array.isArray(a)||!(a instanceof Map)||a.constructor!==Map)throw new Error('"rules" key requires a dictionary.');At.add_operation("RegExp.test",i),At.add_operation("Math",Math);let o=Array.from(a.keys()),b=o.map(n.sliceIjsonKey),T=new Set(b);if(b.length!==T.size)throw new Error("Duplicate in rules.");for(let _=0,v=o.length;_<v;_++){let j=l.findIndex(function(O){return n.sliceIjsonKey(O)===n.sliceIjsonKey(o[_])});if(j==-1)throw new Error('Rule "'+n.sliceIjsonKey(o[_])+'" matches no afters.');let X=Array.from(a.get(o[_]).keys());for(let O=0,H=d.length;O<H;O++)for(let S=0,F=X.length;S<F;S++)try{let k=JSON.parse(n.indexPrefixedMapToJsonLogic(a.get(o[_]).get(X[S]))),$={},L=c.concat(h),ne=L.concat(l);for(let U=0,ae=ne.length;U<ae;U++)$[n.sliceIjsonKey(ne[U])]=d[O][U];At.apply(k,$)&&(d[O][L.length-1+j+1]=n.sliceIjsonKey(X[S]))}catch{throw new Error('"'+n.sliceIjsonKey(o[_])+'" rule fails JsonLogic parsing.')}}}}let p=h.map(n.sliceIjsonKey);c.length&&(p=c.map(n.sliceIjsonKey).concat(p)),l.length&&(p=p.concat(l.map(n.sliceIjsonKey)));let C=new Set(p);if(p.length!==C.size)throw new Error("Duplicate in headings.");return d.unshift(p),d}generateTruthTable(r,m,e=m,t,f=t){let n=Math.pow(2,r.length),s=[];m===void 0&&(m=0,e=n-1),t===void 0&&(t=0,f=r.length-1);for(let d=m,c=e+1;d<c;d++){let h=[];s.push(h)}for(let d=t,c=f+1;d<c;d++){let h=Math.pow(2,d+1),l=n/h,p=m,C=Math.floor(m/l),x=m%l;e:for(let E=C,M=h;E<M;E++){let A=E%2==0;for(let N=x,w=l;N<w;N++){if(p>m-1)if(p<e+1)s[p-m].push(A);else break e;p++}}}return s}indexPrefixedMapToJsonLogic(r){let m=this;var e="";if(typeof r=="object"&&r!==null&&r instanceof Map&&r.constructor===Map)return t(r),JSON.parse(JSON.parse(e));if(typeof r=="boolean")return r;throw new Error("JsonLogic requires either an object or a boolean value.");function t(f,n=1){if(typeof f=="object"&&f!==null&&!Array.isArray(f)&&f instanceof Map&&f.constructor===Map)for(let[c,h]of f){let l=m.sliceIjsonKey(c);if(typeof h=="object"&&h!==null)if(Array.isArray(h))h.length>0?(e+="    ".repeat(n)+`{${JSON.stringify(l)}: [\r
`,t(h,n+1),e+="    ".repeat(n)+"]}"):e+="    ".repeat(n)+`{${JSON.stringify(l)}: []}`;else if(Array.from(h.keys()).length>0){e+="    ".repeat(n)+`{${JSON.stringify(l)}: [\r
`;for(let[C,x]of h){let E=m.sliceIjsonKey(C);typeof x=="object"&&x!==null?Array.isArray(x)?x.length>0?(e+="    ".repeat(n+1)+`[${JSON.stringify(E)}: [\r
`,t(x,n+2),e+="    ".repeat(n+1)+"]]"):e+="    ".repeat(n+1)+`[${JSON.stringify(E)}: []]`:Array.from(x.keys()).length>0?(e+="    ".repeat(n+1)+`{${JSON.stringify(E)}: [\r
`,t(x,n+2),e+="    ".repeat(n+1)+"]}"):e+="    ".repeat(n+1)+`{${JSON.stringify(E)}: {}}`:x===null?e+="    ".repeat(n+1)+`${JSON.stringify(E)}`:e+="    ".repeat(n+1)+`{${JSON.stringify(E)}: ${JSON.stringify(x)}}`;let M=Array.from(h.keys())[Array.from(h.keys()).length-1];C!=M?e+=`,\r
`:e+=`\r
`}e+="    ".repeat(n)+"]}"}else e+="    ".repeat(n)+`${JSON.stringify(l)}: []}`;else h===!0?e+="    ".repeat(n)+`{${JSON.stringify(l)}: true}`:h===!1?e+="    ".repeat(n)+`{${JSON.stringify(l)}: false}`:h===null?e+="    ".repeat(n)+`${JSON.stringify(l)}`:Number.isFinite(h)&&!Number.isNaN(h)?e+="    ".repeat(n)+`{${JSON.stringify(l)}: `+h+"}":e+="    ".repeat(n)+`{${JSON.stringify(l)}: `+JSON.stringify(h)+"}";let p=Array.from(f.keys())[Array.from(f.keys()).length-1];c!=p?e+=`,\r
`:e+=`\r
`}else if(Array.isArray(f))for(var s=0,d=f.length;s<d;s++)typeof f[s]=="object"&&f[s]!==null?Array.isArray(f[s])?f[s].length>0?(e+="    ".repeat(n)+`[\r
`,t(f[s],n+1),e+="    ".repeat(n)+"]"):e+="    ".repeat(n)+"[]":Array.from(f[s].keys()).length>0?(e+="    ".repeat(n)+`{\r
`,t(f[s],n+1),e+="    ".repeat(n)+"}"):e+="    ".repeat(n)+"{}":f[s]===!0?e+="    ".repeat(n)+"true":f[s]===!1?e+="    ".repeat(n)+"false":f[s]===null?e+="    ".repeat(n)+"null":Number.isFinite(f[s])&&!Number.isNaN(f[s])?e+="    ".repeat(n)+f[s]:e+="    ".repeat(n)+JSON.stringify(f[s]),s!=d-1?e+=`,\r
`:e+=`\r
`}}arrayTableToPandasRecords(r){let m=this,e=[],t=r[0].length;for(let f=1,n=r.length;f<n;f++){let s={};for(let d=0,c=t;d<c;d++)s[r[0][d]]=r[f][d];e.push(s)}return e}arrayDecisionTableToHtml(r){let m=this,e=document.createElement("table"),t=document.createElement("thead"),f=document.createElement("tbody");e.className="DAMON-Decision";let n=document.createElement("tr");for(let s=0,d=r.length;s<d;s++){let c=document.createElement("th");s!==0&&(c.textContent=s,c.dataset.graphArbo=s-1),n.appendChild(c)}t.appendChild(n);for(let s=0,d=r[0].length;s<d;s++){let c=document.createElement("tr");f.appendChild(c)}for(let s=0,d=r.length;s<d;s++)for(let c=0,h=r[s].length;c<h;c++){let l={};s==0?(l=document.createElement("th"),m.websiteRegex.test(r[s][c])||m.pathRegex.test(r[s][c])?l.innerHTML=q.sanitize(`<a href="${r[s][c]}">${r[s][c]}</a>`):l.textContent=`${r[s][c]}`,f.children[c].appendChild(l)):(l=document.createElement("td"),typeof r[s][c]=="boolean"?(r[s][c]?l.className="true":l.className="false",l.innerHTML=r[s][c]?"T":"F"):m.websiteRegex.test(r[s][c])||m.pathRegex.test(r[s][c])?l.innerHTML=q.sanitize(`<a href="${r[s][c]}">${r[s][c]}</a>`):l.textContent=`${r[s][c]}`,f.children[c].appendChild(l))}return e.appendChild(t),e.appendChild(f),e}}});(function(){window.DamonUtils=Yt()})();})();
/*! Bundled license information:

dompurify/dist/purify.cjs.js:
  (*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE *)

papaparse/papaparse.min.js:
  (* @license
  Papa Parse
  v5.5.3
  https://github.com/mholt/PapaParse
  License: MIT
  *)
*/
