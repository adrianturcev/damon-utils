(()=>{var Xe=(F,r)=>()=>(r||F((r={exports:{}}).exports,r),r.exports);var Bt=Xe((Rr,Jt)=>{"use strict";var{entries:zt,setPrototypeOf:kt,isFrozen:ir,getPrototypeOf:sr,getOwnPropertyDescriptor:ar}=Object,{freeze:Ae,seal:xe,create:pt}=Object,{apply:dt,construct:ht}=typeof Reflect<"u"&&Reflect;Ae||(Ae=function(r){return r});xe||(xe=function(r){return r});dt||(dt=function(r,m){for(var e=arguments.length,t=new Array(e>2?e-2:0),f=2;f<e;f++)t[f-2]=arguments[f];return r.apply(m,t)});ht||(ht=function(r){for(var m=arguments.length,e=new Array(m>1?m-1:0),t=1;t<m;t++)e[t-1]=arguments[t];return new r(...e)});var Ze=be(Array.prototype.forEach),lr=be(Array.prototype.lastIndexOf),Dt=be(Array.prototype.pop),Ke=be(Array.prototype.push),or=be(Array.prototype.splice),et=be(String.prototype.toLowerCase),at=be(String.prototype.toString),lt=be(String.prototype.match),Je=be(String.prototype.replace),fr=be(String.prototype.indexOf),ur=be(String.prototype.trim),Ne=be(Object.prototype.hasOwnProperty),ge=be(RegExp.prototype.test),Be=cr(TypeError);function be(F){return function(r){r instanceof RegExp&&(r.lastIndex=0);for(var m=arguments.length,e=new Array(m>1?m-1:0),t=1;t<m;t++)e[t-1]=arguments[t];return dt(F,r,e)}}function cr(F){return function(){for(var r=arguments.length,m=new Array(r),e=0;e<r;e++)m[e]=arguments[e];return ht(F,m)}}function B(F,r){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:et;kt&&kt(F,null);let e=r.length;for(;e--;){let t=r[e];if(typeof t=="string"){let f=m(t);f!==t&&(ir(r)||(r[e]=f),t=f)}F[t]=!0}return F}function pr(F){for(let r=0;r<F.length;r++)Ne(F,r)||(F[r]=null);return F}function Ie(F){let r=pt(null);for(let[m,e]of zt(F))Ne(F,m)&&(Array.isArray(e)?r[m]=pr(e):e&&typeof e=="object"&&e.constructor===Object?r[m]=Ie(e):r[m]=e);return r}function je(F,r){for(;F!==null;){let e=ar(F,r);if(e){if(e.get)return be(e.get);if(typeof e.value=="function")return be(e.value)}F=sr(F)}function m(){return null}return m}var It=Ae(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ot=Ae(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ft=Ae(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),dr=Ae(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ut=Ae(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),hr=Ae(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Mt=Ae(["#text"]),vt=Ae(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ct=Ae(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$t=Ae(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Qe=Ae(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),mr=xe(/\{\{[\w\W]*|[\w\W]*\}\}/gm),yr=xe(/<%[\w\W]*|[\w\W]*%>/gm),gr=xe(/\$\{[\w\W]*/gm),Ar=xe(/^data-[\-\w.\u00B7-\uFFFF]+$/),br=xe(/^aria-[\-\w]+$/),Ut=xe(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Tr=xe(/^(?:\w+script|data):/i),_r=xe(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Pt=xe(/^html$/i),Er=xe(/^[a-z][.\w]*(-[.\w]+)+$/i),Ht=Object.freeze({__proto__:null,ARIA_ATTR:br,ATTR_WHITESPACE:_r,CUSTOM_ELEMENT:Er,DATA_ATTR:Ar,DOCTYPE_NAME:Pt,ERB_EXPR:yr,IS_ALLOWED_URI:Ut,IS_SCRIPT_OR_DATA:Tr,MUSTACHE_EXPR:mr,TMPLIT_EXPR:gr}),Ge={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},xr=function(){return typeof window>"u"?null:window},wr=function(r,m){if(typeof r!="object"||typeof r.createPolicy!="function")return null;let e=null,t="data-tt-policy-suffix";m&&m.hasAttribute(t)&&(e=m.getAttribute(t));let f="dompurify"+(e?"#"+e:"");try{return r.createPolicy(f,{createHTML(n){return n},createScriptURL(n){return n}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}},Ft=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Kt(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xr(),r=$=>Kt($);if(r.version="3.3.0",r.removed=[],!F||!F.document||F.document.nodeType!==Ge.document||!F.Element)return r.isSupported=!1,r;let{document:m}=F,e=m,t=e.currentScript,{DocumentFragment:f,HTMLTemplateElement:n,Node:i,Element:p,NodeFilter:c,NamedNodeMap:d=F.NamedNodeMap||F.MozNamedAttrMap,HTMLFormElement:l,DOMParser:h,trustedTypes:C}=F,_=p.prototype,x=je(_,"cloneNode"),I=je(_,"remove"),b=je(_,"nextSibling"),w=je(_,"childNodes"),N=je(_,"parentNode");if(typeof n=="function"){let $=m.createElement("template");$.content&&$.content.ownerDocument&&(m=$.content.ownerDocument)}let y,g="",{implementation:s,createNodeIterator:a,createDocumentFragment:o,getElementsByTagName:A}=m,{importNode:T}=e,E=Ft();r.isSupported=typeof zt=="function"&&typeof N=="function"&&s&&s.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:D,ERB_EXPR:j,TMPLIT_EXPR:X,DATA_ATTR:O,ARIA_ATTR:v,IS_SCRIPT_OR_DATA:L,ATTR_WHITESPACE:z,CUSTOM_ELEMENT:k}=Ht,{IS_ALLOWED_URI:H}=Ht,S=null,ne=B({},[...It,...ot,...ft,...ut,...Mt]),P=null,ie=B({},[...vt,...ct,...$t,...Qe]),G=Object.seal(pt(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),K=null,W=null,Z=Object.seal(pt(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),J=!0,Q=!0,oe=!1,te=!0,q=!1,U=!0,se=!1,Y=!1,ee=!1,re=!1,we=!1,ye=!1,Me=!0,ce=!1,Ee="user-content-",le=!0,fe=!1,he={},Ce=null,ze=B({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Se=null,_e=B({},["audio","video","img","source","image","track"]),Le=null,Ue=B({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),We="http://www.w3.org/1998/Math/MathML",qe="http://www.w3.org/2000/svg",Oe="http://www.w3.org/1999/xhtml",$e=Oe,tt=!1,rt=null,Xt=B({},[We,qe,Oe],at),Ve=B({},["mi","mo","mn","ms","mtext"]),Ye=B({},["annotation-xml"]),Zt=B({},["title","style","font","a","script"]),Pe=null,Qt=["application/xhtml+xml","text/html"],er="text/html",pe=null,He=null,tr=m.createElement("form"),bt=function(u){return u instanceof RegExp||u instanceof Function},nt=function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(He&&He===u)){if((!u||typeof u!="object")&&(u={}),u=Ie(u),Pe=Qt.indexOf(u.PARSER_MEDIA_TYPE)===-1?er:u.PARSER_MEDIA_TYPE,pe=Pe==="application/xhtml+xml"?at:et,S=Ne(u,"ALLOWED_TAGS")?B({},u.ALLOWED_TAGS,pe):ne,P=Ne(u,"ALLOWED_ATTR")?B({},u.ALLOWED_ATTR,pe):ie,rt=Ne(u,"ALLOWED_NAMESPACES")?B({},u.ALLOWED_NAMESPACES,at):Xt,Le=Ne(u,"ADD_URI_SAFE_ATTR")?B(Ie(Ue),u.ADD_URI_SAFE_ATTR,pe):Ue,Se=Ne(u,"ADD_DATA_URI_TAGS")?B(Ie(_e),u.ADD_DATA_URI_TAGS,pe):_e,Ce=Ne(u,"FORBID_CONTENTS")?B({},u.FORBID_CONTENTS,pe):ze,K=Ne(u,"FORBID_TAGS")?B({},u.FORBID_TAGS,pe):Ie({}),W=Ne(u,"FORBID_ATTR")?B({},u.FORBID_ATTR,pe):Ie({}),he=Ne(u,"USE_PROFILES")?u.USE_PROFILES:!1,J=u.ALLOW_ARIA_ATTR!==!1,Q=u.ALLOW_DATA_ATTR!==!1,oe=u.ALLOW_UNKNOWN_PROTOCOLS||!1,te=u.ALLOW_SELF_CLOSE_IN_ATTR!==!1,q=u.SAFE_FOR_TEMPLATES||!1,U=u.SAFE_FOR_XML!==!1,se=u.WHOLE_DOCUMENT||!1,re=u.RETURN_DOM||!1,we=u.RETURN_DOM_FRAGMENT||!1,ye=u.RETURN_TRUSTED_TYPE||!1,ee=u.FORCE_BODY||!1,Me=u.SANITIZE_DOM!==!1,ce=u.SANITIZE_NAMED_PROPS||!1,le=u.KEEP_CONTENT!==!1,fe=u.IN_PLACE||!1,H=u.ALLOWED_URI_REGEXP||Ut,$e=u.NAMESPACE||Oe,Ve=u.MATHML_TEXT_INTEGRATION_POINTS||Ve,Ye=u.HTML_INTEGRATION_POINTS||Ye,G=u.CUSTOM_ELEMENT_HANDLING||{},u.CUSTOM_ELEMENT_HANDLING&&bt(u.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(G.tagNameCheck=u.CUSTOM_ELEMENT_HANDLING.tagNameCheck),u.CUSTOM_ELEMENT_HANDLING&&bt(u.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(G.attributeNameCheck=u.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),u.CUSTOM_ELEMENT_HANDLING&&typeof u.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(G.allowCustomizedBuiltInElements=u.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),q&&(Q=!1),we&&(re=!0),he&&(S=B({},Mt),P=[],he.html===!0&&(B(S,It),B(P,vt)),he.svg===!0&&(B(S,ot),B(P,ct),B(P,Qe)),he.svgFilters===!0&&(B(S,ft),B(P,ct),B(P,Qe)),he.mathMl===!0&&(B(S,ut),B(P,$t),B(P,Qe))),u.ADD_TAGS&&(typeof u.ADD_TAGS=="function"?Z.tagCheck=u.ADD_TAGS:(S===ne&&(S=Ie(S)),B(S,u.ADD_TAGS,pe))),u.ADD_ATTR&&(typeof u.ADD_ATTR=="function"?Z.attributeCheck=u.ADD_ATTR:(P===ie&&(P=Ie(P)),B(P,u.ADD_ATTR,pe))),u.ADD_URI_SAFE_ATTR&&B(Le,u.ADD_URI_SAFE_ATTR,pe),u.FORBID_CONTENTS&&(Ce===ze&&(Ce=Ie(Ce)),B(Ce,u.FORBID_CONTENTS,pe)),le&&(S["#text"]=!0),se&&B(S,["html","head","body"]),S.table&&(B(S,["tbody"]),delete K.tbody),u.TRUSTED_TYPES_POLICY){if(typeof u.TRUSTED_TYPES_POLICY.createHTML!="function")throw Be('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof u.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Be('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=u.TRUSTED_TYPES_POLICY,g=y.createHTML("")}else y===void 0&&(y=wr(C,t)),y!==null&&typeof g=="string"&&(g=y.createHTML(""));Ae&&Ae(u),He=u}},Tt=B({},[...ot,...ft,...dr]),_t=B({},[...ut,...hr]),rr=function(u){let R=N(u);(!R||!R.tagName)&&(R={namespaceURI:$e,tagName:"template"});let M=et(u.tagName),ae=et(R.tagName);return rt[u.namespaceURI]?u.namespaceURI===qe?R.namespaceURI===Oe?M==="svg":R.namespaceURI===We?M==="svg"&&(ae==="annotation-xml"||Ve[ae]):!!Tt[M]:u.namespaceURI===We?R.namespaceURI===Oe?M==="math":R.namespaceURI===qe?M==="math"&&Ye[ae]:!!_t[M]:u.namespaceURI===Oe?R.namespaceURI===qe&&!Ye[ae]||R.namespaceURI===We&&!Ve[ae]?!1:!_t[M]&&(Zt[M]||!Tt[M]):!!(Pe==="application/xhtml+xml"&&rt[u.namespaceURI]):!1},Re=function(u){Ke(r.removed,{element:u});try{N(u).removeChild(u)}catch{I(u)}},ve=function(u,R){try{Ke(r.removed,{attribute:R.getAttributeNode(u),from:R})}catch{Ke(r.removed,{attribute:null,from:R})}if(R.removeAttribute(u),u==="is")if(re||we)try{Re(R)}catch{}else try{R.setAttribute(u,"")}catch{}},Et=function(u){let R=null,M=null;if(ee)u="<remove></remove>"+u;else{let ue=lt(u,/^[\r\n\t ]+/);M=ue&&ue[0]}Pe==="application/xhtml+xml"&&$e===Oe&&(u='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+u+"</body></html>");let ae=y?y.createHTML(u):u;if($e===Oe)try{R=new h().parseFromString(ae,Pe)}catch{}if(!R||!R.documentElement){R=s.createDocument($e,"template",null);try{R.documentElement.innerHTML=tt?g:ae}catch{}}let me=R.body||R.documentElement;return u&&M&&me.insertBefore(m.createTextNode(M),me.childNodes[0]||null),$e===Oe?A.call(R,se?"html":"body")[0]:se?R.documentElement:me},xt=function(u){return a.call(u.ownerDocument||u,u,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},it=function(u){return u instanceof l&&(typeof u.nodeName!="string"||typeof u.textContent!="string"||typeof u.removeChild!="function"||!(u.attributes instanceof d)||typeof u.removeAttribute!="function"||typeof u.setAttribute!="function"||typeof u.namespaceURI!="string"||typeof u.insertBefore!="function"||typeof u.hasChildNodes!="function")},wt=function(u){return typeof i=="function"&&u instanceof i};function ke($,u,R){Ze($,M=>{M.call(r,u,R,He)})}let Nt=function(u){let R=null;if(ke(E.beforeSanitizeElements,u,null),it(u))return Re(u),!0;let M=pe(u.nodeName);if(ke(E.uponSanitizeElement,u,{tagName:M,allowedTags:S}),U&&u.hasChildNodes()&&!wt(u.firstElementChild)&&ge(/<[/\w!]/g,u.innerHTML)&&ge(/<[/\w!]/g,u.textContent)||u.nodeType===Ge.progressingInstruction||U&&u.nodeType===Ge.comment&&ge(/<[/\w]/g,u.data))return Re(u),!0;if(!(Z.tagCheck instanceof Function&&Z.tagCheck(M))&&(!S[M]||K[M])){if(!K[M]&&Rt(M)&&(G.tagNameCheck instanceof RegExp&&ge(G.tagNameCheck,M)||G.tagNameCheck instanceof Function&&G.tagNameCheck(M)))return!1;if(le&&!Ce[M]){let ae=N(u)||u.parentNode,me=w(u)||u.childNodes;if(me&&ae){let ue=me.length;for(let Te=ue-1;Te>=0;--Te){let De=x(me[Te],!0);De.__removalCount=(u.__removalCount||0)+1,ae.insertBefore(De,b(u))}}}return Re(u),!0}return u instanceof p&&!rr(u)||(M==="noscript"||M==="noembed"||M==="noframes")&&ge(/<\/no(script|embed|frames)/i,u.innerHTML)?(Re(u),!0):(q&&u.nodeType===Ge.text&&(R=u.textContent,Ze([D,j,X],ae=>{R=Je(R,ae," ")}),u.textContent!==R&&(Ke(r.removed,{element:u.cloneNode()}),u.textContent=R)),ke(E.afterSanitizeElements,u,null),!1)},Ct=function(u,R,M){if(Me&&(R==="id"||R==="name")&&(M in m||M in tr))return!1;if(!(Q&&!W[R]&&ge(O,R))){if(!(J&&ge(v,R))){if(!(Z.attributeCheck instanceof Function&&Z.attributeCheck(R,u))){if(!P[R]||W[R]){if(!(Rt(u)&&(G.tagNameCheck instanceof RegExp&&ge(G.tagNameCheck,u)||G.tagNameCheck instanceof Function&&G.tagNameCheck(u))&&(G.attributeNameCheck instanceof RegExp&&ge(G.attributeNameCheck,R)||G.attributeNameCheck instanceof Function&&G.attributeNameCheck(R,u))||R==="is"&&G.allowCustomizedBuiltInElements&&(G.tagNameCheck instanceof RegExp&&ge(G.tagNameCheck,M)||G.tagNameCheck instanceof Function&&G.tagNameCheck(M))))return!1}else if(!Le[R]){if(!ge(H,Je(M,z,""))){if(!((R==="src"||R==="xlink:href"||R==="href")&&u!=="script"&&fr(M,"data:")===0&&Se[u])){if(!(oe&&!ge(L,Je(M,z,"")))){if(M)return!1}}}}}}}return!0},Rt=function(u){return u!=="annotation-xml"&&lt(u,k)},St=function(u){ke(E.beforeSanitizeAttributes,u,null);let{attributes:R}=u;if(!R||it(u))return;let M={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:P,forceKeepAttr:void 0},ae=R.length;for(;ae--;){let me=R[ae],{name:ue,namespaceURI:Te,value:De}=me,Fe=pe(ue),st=De,de=ue==="value"?st:ur(st);if(M.attrName=Fe,M.attrValue=de,M.keepAttr=!0,M.forceKeepAttr=void 0,ke(E.uponSanitizeAttribute,u,M),de=M.attrValue,ce&&(Fe==="id"||Fe==="name")&&(ve(ue,u),de=Ee+de),U&&ge(/((--!?|])>)|<\/(style|title|textarea)/i,de)){ve(ue,u);continue}if(Fe==="attributename"&&lt(de,"href")){ve(ue,u);continue}if(M.forceKeepAttr)continue;if(!M.keepAttr){ve(ue,u);continue}if(!te&&ge(/\/>/i,de)){ve(ue,u);continue}q&&Ze([D,j,X],Ot=>{de=Je(de,Ot," ")});let Lt=pe(u.nodeName);if(!Ct(Lt,Fe,de)){ve(ue,u);continue}if(y&&typeof C=="object"&&typeof C.getAttributeType=="function"&&!Te)switch(C.getAttributeType(Lt,Fe)){case"TrustedHTML":{de=y.createHTML(de);break}case"TrustedScriptURL":{de=y.createScriptURL(de);break}}if(de!==st)try{Te?u.setAttributeNS(Te,ue,de):u.setAttribute(ue,de),it(u)?Re(u):Dt(r.removed)}catch{ve(ue,u)}}ke(E.afterSanitizeAttributes,u,null)},nr=function $(u){let R=null,M=xt(u);for(ke(E.beforeSanitizeShadowDOM,u,null);R=M.nextNode();)ke(E.uponSanitizeShadowNode,R,null),Nt(R),St(R),R.content instanceof f&&$(R.content);ke(E.afterSanitizeShadowDOM,u,null)};return r.sanitize=function($){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=null,M=null,ae=null,me=null;if(tt=!$,tt&&($="<!-->"),typeof $!="string"&&!wt($))if(typeof $.toString=="function"){if($=$.toString(),typeof $!="string")throw Be("dirty is not a string, aborting")}else throw Be("toString is not a function");if(!r.isSupported)return $;if(Y||nt(u),r.removed=[],typeof $=="string"&&(fe=!1),fe){if($.nodeName){let De=pe($.nodeName);if(!S[De]||K[De])throw Be("root node is forbidden and cannot be sanitized in-place")}}else if($ instanceof i)R=Et("<!---->"),M=R.ownerDocument.importNode($,!0),M.nodeType===Ge.element&&M.nodeName==="BODY"||M.nodeName==="HTML"?R=M:R.appendChild(M);else{if(!re&&!q&&!se&&$.indexOf("<")===-1)return y&&ye?y.createHTML($):$;if(R=Et($),!R)return re?null:ye?g:""}R&&ee&&Re(R.firstChild);let ue=xt(fe?$:R);for(;ae=ue.nextNode();)Nt(ae),St(ae),ae.content instanceof f&&nr(ae.content);if(fe)return $;if(re){if(we)for(me=o.call(R.ownerDocument);R.firstChild;)me.appendChild(R.firstChild);else me=R;return(P.shadowroot||P.shadowrootmode)&&(me=T.call(e,me,!0)),me}let Te=se?R.outerHTML:R.innerHTML;return se&&S["!doctype"]&&R.ownerDocument&&R.ownerDocument.doctype&&R.ownerDocument.doctype.name&&ge(Pt,R.ownerDocument.doctype.name)&&(Te="<!DOCTYPE "+R.ownerDocument.doctype.name+`>
`+Te),q&&Ze([D,j,X],De=>{Te=Je(Te,De," ")}),y&&ye?y.createHTML(Te):Te},r.setConfig=function(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};nt($),Y=!0},r.clearConfig=function(){He=null,Y=!1},r.isValidAttribute=function($,u,R){He||nt({});let M=pe($),ae=pe(u);return Ct(M,ae,R)},r.addHook=function($,u){typeof u=="function"&&Ke(E[$],u)},r.removeHook=function($,u){if(u!==void 0){let R=lr(E[$],u);return R===-1?void 0:or(E[$],R,1)[0]}return Dt(E[$])},r.removeHooks=function($){E[$]=[]},r.removeAllHooks=function(){E=Ft()},r}var Nr=Kt();Jt.exports=Nr});var jt=Xe((mt,yt)=>{((F,r)=>{typeof define=="function"&&define.amd?define([],r):typeof yt=="object"&&typeof mt<"u"?yt.exports=r():F.Papa=r()})(mt,function F(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},m,e=!r.document&&!!r.postMessage,t=r.IS_PAPA_WORKER||!1,f={},n=0,i={};function p(s){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(a){var o=N(a);o.chunkSize=parseInt(o.chunkSize),a.step||a.chunk||(o.chunkSize=null),this._handle=new C(o),(this._handle.streamer=this)._config=o}.call(this,s),this.parseChunk=function(a,o){var A=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<A){let E=this._config.newline;E||(T=this._config.quoteChar||'"',E=this._handle.guessLineEndings(a,T)),a=[...a.split(E).slice(A)].join(E)}this.isFirstChunk&&g(this._config.beforeFirstChunk)&&(T=this._config.beforeFirstChunk(a))!==void 0&&(a=T),this.isFirstChunk=!1,this._halted=!1;var A=this._partialLine+a,T=(this._partialLine="",this._handle.parse(A,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(a=T.meta.cursor,A=(this._finished||(this._partialLine=A.substring(a-this._baseIndex),this._baseIndex=a),T&&T.data&&(this._rowCount+=T.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),t)r.postMessage({results:T,workerId:i.WORKER_ID,finished:A});else if(g(this._config.chunk)&&!o){if(this._config.chunk(T,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=T=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(T.data),this._completeResults.errors=this._completeResults.errors.concat(T.errors),this._completeResults.meta=T.meta),this._completed||!A||!g(this._config.complete)||T&&T.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),A||T&&T.meta.paused||this._nextChunk(),T}this._halted=!0},this._sendError=function(a){g(this._config.error)?this._config.error(a):t&&this._config.error&&r.postMessage({workerId:i.WORKER_ID,error:a,finished:!1})}}function c(s){var a;(s=s||{}).chunkSize||(s.chunkSize=i.RemoteChunkSize),p.call(this,s),this._nextChunk=e?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(o){this._input=o,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(a=new XMLHttpRequest,this._config.withCredentials&&(a.withCredentials=this._config.withCredentials),e||(a.onload=y(this._chunkLoaded,this),a.onerror=y(this._chunkError,this)),a.open(this._config.downloadRequestBody?"POST":"GET",this._input,!e),this._config.downloadRequestHeaders){var o,A=this._config.downloadRequestHeaders;for(o in A)a.setRequestHeader(o,A[o])}var T;this._config.chunkSize&&(T=this._start+this._config.chunkSize-1,a.setRequestHeader("Range","bytes="+this._start+"-"+T));try{a.send(this._config.downloadRequestBody)}catch(E){this._chunkError(E.message)}e&&a.status===0&&this._chunkError()}},this._chunkLoaded=function(){a.readyState===4&&(a.status<200||400<=a.status?this._chunkError():(this._start+=this._config.chunkSize||a.responseText.length,this._finished=!this._config.chunkSize||this._start>=(o=>(o=o.getResponseHeader("Content-Range"))!==null?parseInt(o.substring(o.lastIndexOf("/")+1)):-1)(a),this.parseChunk(a.responseText)))},this._chunkError=function(o){o=a.statusText||o,this._sendError(new Error(o))}}function d(s){(s=s||{}).chunkSize||(s.chunkSize=i.LocalChunkSize),p.call(this,s);var a,o,A=typeof FileReader<"u";this.stream=function(T){this._input=T,o=T.slice||T.webkitSlice||T.mozSlice,A?((a=new FileReader).onload=y(this._chunkLoaded,this),a.onerror=y(this._chunkError,this)):a=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var T=this._input,E=(this._config.chunkSize&&(E=Math.min(this._start+this._config.chunkSize,this._input.size),T=o.call(T,this._start,E)),a.readAsText(T,this._config.encoding));A||this._chunkLoaded({target:{result:E}})},this._chunkLoaded=function(T){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(T.target.result)},this._chunkError=function(){this._sendError(a.error)}}function l(s){var a;p.call(this,s=s||{}),this.stream=function(o){return a=o,this._nextChunk()},this._nextChunk=function(){var o,A;if(!this._finished)return o=this._config.chunkSize,a=o?(A=a.substring(0,o),a.substring(o)):(A=a,""),this._finished=!a,this.parseChunk(A)}}function h(s){p.call(this,s=s||{});var a=[],o=!0,A=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(T){this._input=T,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){A&&a.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),a.length?this.parseChunk(a.shift()):o=!0},this._streamData=y(function(T){try{a.push(typeof T=="string"?T:T.toString(this._config.encoding)),o&&(o=!1,this._checkIsFinished(),this.parseChunk(a.shift()))}catch(E){this._streamError(E)}},this),this._streamError=y(function(T){this._streamCleanUp(),this._sendError(T)},this),this._streamEnd=y(function(){this._streamCleanUp(),A=!0,this._streamData("")},this),this._streamCleanUp=y(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function C(s){var a,o,A,T,E=Math.pow(2,53),D=-E,j=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,X=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,O=this,v=0,L=0,z=!1,k=!1,H=[],S={data:[],errors:[],meta:{}};function ne(K){return s.skipEmptyLines==="greedy"?K.join("").trim()==="":K.length===1&&K[0].length===0}function P(){if(S&&A&&(G("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+i.DefaultDelimiter+"'"),A=!1),s.skipEmptyLines&&(S.data=S.data.filter(function(Q){return!ne(Q)})),ie()){let Q=function(oe,te){g(s.transformHeader)&&(oe=s.transformHeader(oe,te)),H.push(oe)};var J=Q;if(S)if(Array.isArray(S.data[0])){for(var K=0;ie()&&K<S.data.length;K++)S.data[K].forEach(Q);S.data.splice(0,1)}else S.data.forEach(Q)}function W(Q,oe){for(var te=s.header?{}:[],q=0;q<Q.length;q++){var U=q,se=Q[q],se=((Y,ee)=>(re=>(s.dynamicTypingFunction&&s.dynamicTyping[re]===void 0&&(s.dynamicTyping[re]=s.dynamicTypingFunction(re)),(s.dynamicTyping[re]||s.dynamicTyping)===!0))(Y)?ee==="true"||ee==="TRUE"||ee!=="false"&&ee!=="FALSE"&&((re=>{if(j.test(re)&&(re=parseFloat(re),D<re&&re<E))return 1})(ee)?parseFloat(ee):X.test(ee)?new Date(ee):ee===""?null:ee):ee)(U=s.header?q>=H.length?"__parsed_extra":H[q]:U,se=s.transform?s.transform(se,U):se);U==="__parsed_extra"?(te[U]=te[U]||[],te[U].push(se)):te[U]=se}return s.header&&(q>H.length?G("FieldMismatch","TooManyFields","Too many fields: expected "+H.length+" fields but parsed "+q,L+oe):q<H.length&&G("FieldMismatch","TooFewFields","Too few fields: expected "+H.length+" fields but parsed "+q,L+oe)),te}var Z;S&&(s.header||s.dynamicTyping||s.transform)&&(Z=1,!S.data.length||Array.isArray(S.data[0])?(S.data=S.data.map(W),Z=S.data.length):S.data=W(S.data,0),s.header&&S.meta&&(S.meta.fields=H),L+=Z)}function ie(){return s.header&&H.length===0}function G(K,W,Z,J){K={type:K,code:W,message:Z},J!==void 0&&(K.row=J),S.errors.push(K)}g(s.step)&&(T=s.step,s.step=function(K){S=K,ie()?P():(P(),S.data.length!==0&&(v+=K.data.length,s.preview&&v>s.preview?o.abort():(S.data=S.data[0],T(S,O))))}),this.parse=function(K,W,Z){var J=s.quoteChar||'"',J=(s.newline||(s.newline=this.guessLineEndings(K,J)),A=!1,s.delimiter?g(s.delimiter)&&(s.delimiter=s.delimiter(K),S.meta.delimiter=s.delimiter):((J=((Q,oe,te,q,U)=>{var se,Y,ee,re;U=U||[",","	","|",";",i.RECORD_SEP,i.UNIT_SEP];for(var we=0;we<U.length;we++){for(var ye,Me=U[we],ce=0,Ee=0,le=0,fe=(ee=void 0,new x({comments:q,delimiter:Me,newline:oe,preview:10}).parse(Q)),he=0;he<fe.data.length;he++)te&&ne(fe.data[he])?le++:(ye=fe.data[he].length,Ee+=ye,ee===void 0?ee=ye:0<ye&&(ce+=Math.abs(ye-ee),ee=ye));0<fe.data.length&&(Ee/=fe.data.length-le),(Y===void 0||ce<=Y)&&(re===void 0||re<Ee)&&1.99<Ee&&(Y=ce,se=Me,re=Ee)}return{successful:!!(s.delimiter=se),bestDelimiter:se}})(K,s.newline,s.skipEmptyLines,s.comments,s.delimitersToGuess)).successful?s.delimiter=J.bestDelimiter:(A=!0,s.delimiter=i.DefaultDelimiter),S.meta.delimiter=s.delimiter),N(s));return s.preview&&s.header&&J.preview++,a=K,o=new x(J),S=o.parse(a,W,Z),P(),z?{meta:{paused:!0}}:S||{meta:{paused:!1}}},this.paused=function(){return z},this.pause=function(){z=!0,o.abort(),a=g(s.chunk)?"":a.substring(o.getCharIndex())},this.resume=function(){O.streamer._halted?(z=!1,O.streamer.parseChunk(a,!0)):setTimeout(O.resume,3)},this.aborted=function(){return k},this.abort=function(){k=!0,o.abort(),S.meta.aborted=!0,g(s.complete)&&s.complete(S),a=""},this.guessLineEndings=function(Q,J){Q=Q.substring(0,1048576);var J=new RegExp(_(J)+"([^]*?)"+_(J),"gm"),Z=(Q=Q.replace(J,"")).split("\r"),J=Q.split(`
`),Q=1<J.length&&J[0].length<Z[0].length;if(Z.length===1||Q)return`
`;for(var oe=0,te=0;te<Z.length;te++)Z[te][0]===`
`&&oe++;return oe>=Z.length/2?`\r
`:"\r"}}function _(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(s){var a=(s=s||{}).delimiter,o=s.newline,A=s.comments,T=s.step,E=s.preview,D=s.fastMode,j=null,X=!1,O=s.quoteChar==null?'"':s.quoteChar,v=O;if(s.escapeChar!==void 0&&(v=s.escapeChar),(typeof a!="string"||-1<i.BAD_DELIMITERS.indexOf(a))&&(a=","),A===a)throw new Error("Comment character same as delimiter");A===!0?A="#":(typeof A!="string"||-1<i.BAD_DELIMITERS.indexOf(A))&&(A=!1),o!==`
`&&o!=="\r"&&o!==`\r
`&&(o=`
`);var L=0,z=!1;this.parse=function(k,H,S){if(typeof k!="string")throw new Error("Input must be a string");var ne=k.length,P=a.length,ie=o.length,G=A.length,K=g(T),W=[],Z=[],J=[],Q=L=0;if(!k)return ce();if(D||D!==!1&&k.indexOf(O)===-1){for(var oe=k.split(o),te=0;te<oe.length;te++){if(J=oe[te],L+=J.length,te!==oe.length-1)L+=o.length;else if(S)return ce();if(!A||J.substring(0,G)!==A){if(K){if(W=[],re(J.split(a)),Ee(),z)return ce()}else re(J.split(a));if(E&&E<=te)return W=W.slice(0,E),ce(!0)}}return ce()}for(var q=k.indexOf(a,L),U=k.indexOf(o,L),se=new RegExp(_(v)+_(O),"g"),Y=k.indexOf(O,L);;)if(k[L]===O)for(Y=L,L++;;){if((Y=k.indexOf(O,Y+1))===-1)return S||Z.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:W.length,index:L}),ye();if(Y===ne-1)return ye(k.substring(L,Y).replace(se,O));if(O===v&&k[Y+1]===v)Y++;else if(O===v||Y===0||k[Y-1]!==v){q!==-1&&q<Y+1&&(q=k.indexOf(a,Y+1));var ee=we((U=U!==-1&&U<Y+1?k.indexOf(o,Y+1):U)===-1?q:Math.min(q,U));if(k.substr(Y+1+ee,P)===a){J.push(k.substring(L,Y).replace(se,O)),k[L=Y+1+ee+P]!==O&&(Y=k.indexOf(O,L)),q=k.indexOf(a,L),U=k.indexOf(o,L);break}if(ee=we(U),k.substring(Y+1+ee,Y+1+ee+ie)===o){if(J.push(k.substring(L,Y).replace(se,O)),Me(Y+1+ee+ie),q=k.indexOf(a,L),Y=k.indexOf(O,L),K&&(Ee(),z))return ce();if(E&&W.length>=E)return ce(!0);break}Z.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:W.length,index:L}),Y++}}else if(A&&J.length===0&&k.substring(L,L+G)===A){if(U===-1)return ce();L=U+ie,U=k.indexOf(o,L),q=k.indexOf(a,L)}else if(q!==-1&&(q<U||U===-1))J.push(k.substring(L,q)),L=q+P,q=k.indexOf(a,L);else{if(U===-1)break;if(J.push(k.substring(L,U)),Me(U+ie),K&&(Ee(),z))return ce();if(E&&W.length>=E)return ce(!0)}return ye();function re(le){W.push(le),Q=L}function we(le){var fe=0;return fe=le!==-1&&(le=k.substring(Y+1,le))&&le.trim()===""?le.length:fe}function ye(le){return S||(le===void 0&&(le=k.substring(L)),J.push(le),L=ne,re(J),K&&Ee()),ce()}function Me(le){L=le,re(J),J=[],U=k.indexOf(o,L)}function ce(le){if(s.header&&!H&&W.length&&!X){var fe=W[0],he=Object.create(null),Ce=new Set(fe);let ze=!1;for(let Se=0;Se<fe.length;Se++){let _e=fe[Se];if(he[_e=g(s.transformHeader)?s.transformHeader(_e,Se):_e]){let Le,Ue=he[_e];for(;Le=_e+"_"+Ue,Ue++,Ce.has(Le););Ce.add(Le),fe[Se]=Le,he[_e]++,ze=!0,(j=j===null?{}:j)[Le]=_e}else he[_e]=1,fe[Se]=_e;Ce.add(_e)}ze&&console.warn("Duplicate headers found and renamed."),X=!0}return{data:W,errors:Z,meta:{delimiter:a,linebreak:o,aborted:z,truncated:!!le,cursor:Q+(H||0),renamedHeaders:j}}}function Ee(){T(ce()),W=[],Z=[]}},this.abort=function(){z=!0},this.getCharIndex=function(){return L}}function I(s){var a=s.data,o=f[a.workerId],A=!1;if(a.error)o.userError(a.error,a.file);else if(a.results&&a.results.data){var T={abort:function(){A=!0,b(a.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:w,resume:w};if(g(o.userStep)){for(var E=0;E<a.results.data.length&&(o.userStep({data:a.results.data[E],errors:a.results.errors,meta:a.results.meta},T),!A);E++);delete a.results}else g(o.userChunk)&&(o.userChunk(a.results,T,a.file),delete a.results)}a.finished&&!A&&b(a.workerId,a.results)}function b(s,a){var o=f[s];g(o.userComplete)&&o.userComplete(a),o.terminate(),delete f[s]}function w(){throw new Error("Not implemented.")}function N(s){if(typeof s!="object"||s===null)return s;var a,o=Array.isArray(s)?[]:{};for(a in s)o[a]=N(s[a]);return o}function y(s,a){return function(){s.apply(a,arguments)}}function g(s){return typeof s=="function"}return i.parse=function(s,a){var o=(a=a||{}).dynamicTyping||!1;if(g(o)&&(a.dynamicTypingFunction=o,o={}),a.dynamicTyping=o,a.transform=!!g(a.transform)&&a.transform,!a.worker||!i.WORKERS_SUPPORTED)return o=null,i.NODE_STREAM_INPUT,typeof s=="string"?(s=(A=>A.charCodeAt(0)!==65279?A:A.slice(1))(s),o=new(a.download?c:l)(a)):s.readable===!0&&g(s.read)&&g(s.on)?o=new h(a):(r.File&&s instanceof File||s instanceof Object)&&(o=new d(a)),o.stream(s);(o=(()=>{var A;return!!i.WORKERS_SUPPORTED&&(A=(()=>{var T=r.URL||r.webkitURL||null,E=F.toString();return i.BLOB_URL||(i.BLOB_URL=T.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",E,")();"],{type:"text/javascript"})))})(),(A=new r.Worker(A)).onmessage=I,A.id=n++,f[A.id]=A)})()).userStep=a.step,o.userChunk=a.chunk,o.userComplete=a.complete,o.userError=a.error,a.step=g(a.step),a.chunk=g(a.chunk),a.complete=g(a.complete),a.error=g(a.error),delete a.worker,o.postMessage({input:s,config:a,workerId:o.id})},i.unparse=function(s,a){var o=!1,A=!0,T=",",E=`\r
`,D='"',j=D+D,X=!1,O=null,v=!1,L=((()=>{if(typeof a=="object"){if(typeof a.delimiter!="string"||i.BAD_DELIMITERS.filter(function(H){return a.delimiter.indexOf(H)!==-1}).length||(T=a.delimiter),typeof a.quotes!="boolean"&&typeof a.quotes!="function"&&!Array.isArray(a.quotes)||(o=a.quotes),typeof a.skipEmptyLines!="boolean"&&typeof a.skipEmptyLines!="string"||(X=a.skipEmptyLines),typeof a.newline=="string"&&(E=a.newline),typeof a.quoteChar=="string"&&(D=a.quoteChar),typeof a.header=="boolean"&&(A=a.header),Array.isArray(a.columns)){if(a.columns.length===0)throw new Error("Option columns is empty");O=a.columns}a.escapeChar!==void 0&&(j=a.escapeChar+D),a.escapeFormulae instanceof RegExp?v=a.escapeFormulae:typeof a.escapeFormulae=="boolean"&&a.escapeFormulae&&(v=/^[=+\-@\t\r].*$/)}})(),new RegExp(_(D),"g"));if(typeof s=="string"&&(s=JSON.parse(s)),Array.isArray(s)){if(!s.length||Array.isArray(s[0]))return z(null,s,X);if(typeof s[0]=="object")return z(O||Object.keys(s[0]),s,X)}else if(typeof s=="object")return typeof s.data=="string"&&(s.data=JSON.parse(s.data)),Array.isArray(s.data)&&(s.fields||(s.fields=s.meta&&s.meta.fields||O),s.fields||(s.fields=Array.isArray(s.data[0])?s.fields:typeof s.data[0]=="object"?Object.keys(s.data[0]):[]),Array.isArray(s.data[0])||typeof s.data[0]=="object"||(s.data=[s.data])),z(s.fields||[],s.data||[],X);throw new Error("Unable to serialize unrecognized input");function z(H,S,ne){var P="",ie=(typeof H=="string"&&(H=JSON.parse(H)),typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(H)&&0<H.length),G=!Array.isArray(S[0]);if(ie&&A){for(var K=0;K<H.length;K++)0<K&&(P+=T),P+=k(H[K],K);0<S.length&&(P+=E)}for(var W=0;W<S.length;W++){var Z=(ie?H:S[W]).length,J=!1,Q=ie?Object.keys(S[W]).length===0:S[W].length===0;if(ne&&!ie&&(J=ne==="greedy"?S[W].join("").trim()==="":S[W].length===1&&S[W][0].length===0),ne==="greedy"&&ie){for(var oe=[],te=0;te<Z;te++){var q=G?H[te]:te;oe.push(S[W][q])}J=oe.join("").trim()===""}if(!J){for(var U=0;U<Z;U++){0<U&&!Q&&(P+=T);var se=ie&&G?H[U]:U;P+=k(S[W][se],U)}W<S.length-1&&(!ne||0<Z&&!Q)&&(P+=E)}}return P}function k(H,S){var ne,P;return H==null?"":H.constructor===Date?JSON.stringify(H).slice(1,25):(P=!1,v&&typeof H=="string"&&v.test(H)&&(H="'"+H,P=!0),ne=H.toString().replace(L,j),(P=P||o===!0||typeof o=="function"&&o(H,S)||Array.isArray(o)&&o[S]||((ie,G)=>{for(var K=0;K<G.length;K++)if(-1<ie.indexOf(G[K]))return!0;return!1})(ne,i.BAD_DELIMITERS)||-1<ne.indexOf(T)||ne.charAt(0)===" "||ne.charAt(ne.length-1)===" ")?D+ne+D:ne)}},i.RECORD_SEP="",i.UNIT_SEP="",i.BYTE_ORDER_MARK="\uFEFF",i.BAD_DELIMITERS=["\r",`
`,'"',i.BYTE_ORDER_MARK],i.WORKERS_SUPPORTED=!e&&!!r.Worker,i.NODE_STREAM_INPUT=1,i.LocalChunkSize=10485760,i.RemoteChunkSize=5242880,i.DefaultDelimiter=",",i.Parser=x,i.ParserHandle=C,i.NetworkStreamer=c,i.FileStreamer=d,i.StringStreamer=l,i.ReadableStreamStreamer=h,r.jQuery&&((m=r.jQuery).fn.parse=function(s){var a=s.config||{},o=[];return this.each(function(E){if(!(m(this).prop("tagName").toUpperCase()==="INPUT"&&m(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var D=0;D<this.files.length;D++)o.push({file:this.files[D],inputElem:this,instanceConfig:m.extend({},a)})}),A(),this;function A(){if(o.length===0)g(s.complete)&&s.complete();else{var E,D,j,X,O=o[0];if(g(s.before)){var v=s.before(O.file,O.inputElem);if(typeof v=="object"){if(v.action==="abort")return E="AbortError",D=O.file,j=O.inputElem,X=v.reason,void(g(s.error)&&s.error({name:E},D,j,X));if(v.action==="skip")return void T();typeof v.config=="object"&&(O.instanceConfig=m.extend(O.instanceConfig,v.config))}else if(v==="skip")return void T()}var L=O.instanceConfig.complete;O.instanceConfig.complete=function(z){g(L)&&L(z,O.file,O.inputElem),T()},i.parse(O.file,O.instanceConfig)}}function T(){o.splice(0,1),A()}}),t&&(r.onmessage=function(s){s=s.data,i.WORKER_ID===void 0&&s&&(i.WORKER_ID=s.workerId),typeof s.input=="string"?r.postMessage({workerId:i.WORKER_ID,results:i.parse(s.input,s.config),finished:!0}):(r.File&&s.input instanceof File||s.input instanceof Object)&&(s=i.parse(s.input,s.config))&&r.postMessage({workerId:i.WORKER_ID,results:s,finished:!0})}),(c.prototype=Object.create(p.prototype)).constructor=c,(d.prototype=Object.create(p.prototype)).constructor=d,(l.prototype=Object.create(l.prototype)).constructor=l,(h.prototype=Object.create(p.prototype)).constructor=h,i})});var Wt=Xe((gt,Gt)=>{(function(F,r){typeof define=="function"&&define.amd?define(r):typeof gt=="object"?Gt.exports=r():F.jsonLogic=r()})(gt,function(){"use strict";Array.isArray||(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"});function F(e){for(var t=[],f=0,n=e.length;f<n;f++)t.indexOf(e[f])===-1&&t.push(e[f]);return t}var r={},m={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"<":function(e,t,f){return f===void 0?e<t:e<t&&t<f},"<=":function(e,t,f){return f===void 0?e<=t:e<=t&&t<=f},"!!":function(e){return r.truthy(e)},"!":function(e){return!r.truthy(e)},"%":function(e,t){return e%t},log:function(e){return console.log(e),e},in:function(e,t){return!t||typeof t.indexOf>"u"?!1:t.indexOf(e)!==-1},cat:function(){return Array.prototype.join.call(arguments,"")},substr:function(e,t,f){if(f<0){var n=String(e).substr(t);return n.substr(0,n.length+f)}return String(e).substr(t,f)},"+":function(){return Array.prototype.reduce.call(arguments,function(e,t){return parseFloat(e,10)+parseFloat(t,10)},0)},"*":function(){return Array.prototype.reduce.call(arguments,function(e,t){return parseFloat(e,10)*parseFloat(t,10)})},"-":function(e,t){return t===void 0?-e:e-t},"/":function(e,t){return e/t},min:function(){return Math.min.apply(this,arguments)},max:function(){return Math.max.apply(this,arguments)},merge:function(){return Array.prototype.reduce.call(arguments,function(e,t){return e.concat(t)},[])},var:function(e,t){var f=t===void 0?null:t,n=this;if(typeof e>"u"||e===""||e===null)return n;for(var i=String(e).split("."),p=0;p<i.length;p++)if(n==null||(n=n[i[p]],n===void 0))return f;return n},missing:function(){for(var e=[],t=Array.isArray(arguments[0])?arguments[0]:arguments,f=0;f<t.length;f++){var n=t[f],i=r.apply({var:n},this);(i===null||i==="")&&e.push(n)}return e},missing_some:function(e,t){var f=r.apply({missing:t},this);return t.length-f.length>=e?[]:f}};return r.is_logic=function(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)&&Object.keys(e).length===1},r.truthy=function(e){return Array.isArray(e)&&e.length===0?!1:!!e},r.get_operator=function(e){return Object.keys(e)[0]},r.get_values=function(e){return e[r.get_operator(e)]},r.apply=function(e,t){if(Array.isArray(e))return e.map(function(_){return r.apply(_,t)});if(!r.is_logic(e))return e;var f=r.get_operator(e),n=e[f],i,p,c,d,l;if(Array.isArray(n)||(n=[n]),f==="if"||f=="?:"){for(i=0;i<n.length-1;i+=2)if(r.truthy(r.apply(n[i],t)))return r.apply(n[i+1],t);return n.length===i+1?r.apply(n[i],t):null}else if(f==="and"){for(i=0;i<n.length;i+=1)if(p=r.apply(n[i],t),!r.truthy(p))return p;return p}else if(f==="or"){for(i=0;i<n.length;i+=1)if(p=r.apply(n[i],t),r.truthy(p))return p;return p}else{if(f==="filter")return d=r.apply(n[0],t),c=n[1],Array.isArray(d)?d.filter(function(_){return r.truthy(r.apply(c,_))}):[];if(f==="map")return d=r.apply(n[0],t),c=n[1],Array.isArray(d)?d.map(function(_){return r.apply(c,_)}):[];if(f==="reduce")return d=r.apply(n[0],t),c=n[1],l=typeof n[2]<"u"?r.apply(n[2],t):null,Array.isArray(d)?d.reduce(function(_,x){return r.apply(c,{current:x,accumulator:_})},l):l;if(f==="all"){if(d=r.apply(n[0],t),c=n[1],!Array.isArray(d)||!d.length)return!1;for(i=0;i<d.length;i+=1)if(!r.truthy(r.apply(c,d[i])))return!1;return!0}else if(f==="none"){if(d=r.apply(n[0],t),c=n[1],!Array.isArray(d)||!d.length)return!0;for(i=0;i<d.length;i+=1)if(r.truthy(r.apply(c,d[i])))return!1;return!0}else if(f==="some"){if(d=r.apply(n[0],t),c=n[1],!Array.isArray(d)||!d.length)return!1;for(i=0;i<d.length;i+=1)if(r.truthy(r.apply(c,d[i])))return!0;return!1}}if(n=n.map(function(_){return r.apply(_,t)}),m.hasOwnProperty(f)&&typeof m[f]=="function")return m[f].apply(t,n);if(f.indexOf(".")>0){var h=String(f).split("."),C=m;for(i=0;i<h.length;i++){if(!C.hasOwnProperty(h[i]))throw new Error("Unrecognized operation "+f+" (failed at "+h.slice(0,i+1).join(".")+")");C=C[h[i]]}return C.apply(t,n)}throw new Error("Unrecognized operation "+f)},r.uses_data=function(e){var t=[];if(r.is_logic(e)){var f=r.get_operator(e),n=e[f];Array.isArray(n)||(n=[n]),f==="var"?t.push(n[0]):n.forEach(function(i){t.push.apply(t,r.uses_data(i))})}return F(t)},r.add_operation=function(e,t){m[e]=t},r.rm_operation=function(e){delete m[e]},r.rule_like=function(e,t){if(t===e||t==="@")return!0;if(t==="number")return typeof e=="number";if(t==="string")return typeof e=="string";if(t==="array")return Array.isArray(e)&&!r.is_logic(e);if(r.is_logic(t)){if(r.is_logic(e)){var f=r.get_operator(t),n=r.get_operator(e);if(f==="@"||f===n)return r.rule_like(r.get_values(e,!1),r.get_values(t,!1))}return!1}if(Array.isArray(t))if(Array.isArray(e)){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i+=1)if(!r.rule_like(e[i],t[i]))return!1;return!0}else return!1;return!1},r})});var Yt=Xe((Lr,Vt)=>{var V=Bt(),qt=jt(),At=Wt();Vt.exports=class{constructor(r){let m=this;m.damon=r,m.domPurify=V,m.websiteRegex=/^(https?:\/\/)?[-a-zA-Z0-9]*[a-zA-Z0-9]+(\.[-a-zA-Z0-9]*[a-zA-Z0-9]+)+/,m.httpRegex=/^https?:\/\//,m.pathRegex=/^\.*\//}damonToHtmlTable(r){let m=this;return m.mapToHtmlTable(m.damon.damonToMap(r,0,!0))}damonToSExpression(r){let m=this;return m.prefixedKeysMapToSExpression(m.damon.damonToMap(r,0,!0))}sExpressionToDamon(r){let m=this;return m.damon.mapToDamon(m.sExpressionToPrefixedKeysMap(r),!1,!0)}escape(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}mapToHtmlList(r,m=!1,e=void 0){let t=this;try{t.damon.mapToJSON(r)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}var f=0,n=document.createElement("ul"),i;return e!==void 0&&(i=JSON.parse(e)),n.className="DAMON-List",p(r,n),n;function p(c,d,l=[]){if(typeof d!="object"||d==null||Array.isArray(d))throw new Error("Error List Item number "+f+": @param { {} } list");if(typeof c=="object"&&c!==null&&!Array.isArray(c)&&c instanceof Map&&c.constructor===Map){if(d.tagName=="UL")for(let[_,x]of c){let I=document.createElement("ul"),b=document.createElement("code"),w=document.createElement("span"),N=document.createElement("li");if(N.dataset.graphArbo=Array.from(c.keys()).indexOf(_),l.length>0&&(N.dataset.graphArbo=l.join("-")+"-"+Array.from(c.keys()).indexOf(_)),w.className="type-key",t.websiteRegex.test(_)||t.pathRegex.test(_)){let y=_;t.websiteRegex.test(_)&&!t.httpRegex.test(_)&&(y="https://"+_);let g=V.sanitize(`<a href="${y}"><span>${y}</span></a>`);w.innerHTML=g}else e!==void 0&&_ in i["@context"]?w.innerHTML=V.sanitize(`<a href="${i["@context"][_]["@id"]}"><span>${_}</span></a>`):w.textContent=_;if(typeof x=="object"&&x!==null)if(Array.isArray(x))if(c.damonInlineArrays!==void 0&&c.damonInlineArrays.indexOf(_)>-1){b.innerHTML=w.outerHTML+'<span class="operator">: </span>[';for(let y=0,g=x.length;y<g;y++){let s=document.createElement("span"),a=x[y];if(a===!0)s.textContent="true",s.className="type-boolean";else if(a===!1)s.textContent="false",s.className="type-boolean";else if(a===null)s.textContent="null",s.className="type-null";else if(Number.isFinite(a)&&!Number.isNaN(a))s.textContent=a+"",s.className="type-number";else{if(m)if(t.websiteRegex.test(a)||t.pathRegex.test(a)){let o=a;t.websiteRegex.test(a)&&!t.httpRegex.test(a)&&(o="https://"+a),s.innerHTML=V.sanitize(`<a href="${o}">"${o}"</a>`)}else s.innerHTML=`"${a}"`;else if(t.websiteRegex.test(a)||t.pathRegex.test(a)){let o=a;!t.httpRegex.test(a)&&t.websiteRegex.test(a)&&(o="https://"+a),s.innerHTML=V.sanitize(`<a href="${o}">"${o}"</a>`)}else s.textContent=`"${a}"`;s.className="type-string"}y!==0&&(b.innerHTML+=", "),b.appendChild(s)}b.innerHTML+="]",N.appendChild(b),N.appendChild(I),d.appendChild(N)}else b.innerHTML=w.outerHTML+'<span class="operator">: </span>[]',N.appendChild(b),N.appendChild(I),d.appendChild(N),p(x,I,l.concat([Array.from(c.keys()).indexOf(_)]));else c.implicitMaps!==void 0&&c.implicitMaps.indexOf(_)>-1?b.innerHTML=w.outerHTML:b.innerHTML=w.outerHTML+'<span class="operator">: </span>{}',N.appendChild(b),N.appendChild(I),d.appendChild(N),p(x,I,l.concat([Array.from(c.keys()).indexOf(_)]));else{f++,b.innerHTML=w.outerHTML+'<span class="operator">: </span>';let y=document.createElement("span"),g=x;if(g===!0)y.textContent="true",y.className="type-boolean";else if(g===!1)y.textContent="false",y.className="type-boolean";else if(g===null)y.textContent="null",y.className="type-null";else if(Number.isFinite(g)&&!Number.isNaN(g))y.textContent=g+"",y.className="type-number";else{if(m)if(t.websiteRegex.test(g)||t.pathRegex.test(g)){let s=g;!t.httpRegex.test(g)&&t.websiteRegex.test(g)&&(s="https://"+g),y.innerHTML=V.sanitize(`<a href="${s}">"${s}"</a>`)}else y.innerHTML=`"${g}"`;else if(t.websiteRegex.test(g)||t.pathRegex.test(g)){let s=g;!t.httpRegex.test(g)&&t.websiteRegex.test(g)&&(s="https://"+g),y.innerHTML=V.sanitize(`<a href="${s}">"${s}"</a>`)}else y.textContent=`"${g}"`;y.className="type-string"}c.implicitNulls===void 0||c.implicitNulls.indexOf(_)==-1?b.appendChild(y):b.innerHTML=b.innerHTML.slice(0,-2),N.appendChild(b),d.appendChild(N)}}}else if(Array.isArray(c))for(var h=0,C=c.length;h<C;h++){let _=document.createElement("ul"),x=document.createElement("code"),I=document.createElement("li");if(I.dataset.graphArbo=h,l.length>0&&(I.dataset.graphArbo=l.join("-")+"-"+h),typeof c[h]=="object"&&c[h]!==null)if(Array.isArray(c[h]))if(c.damonInlineArrays!==void 0&&c.damonInlineArrays.indexOf(h)>-1){x.innerHTML+="[";for(let b=0,w=c[h].length;b<w;b++){let N=document.createElement("span"),y=c[h][b];if(y===!0)N.textContent="true",N.className="type-boolean";else if(y===!1)N.textContent="false",N.className="type-boolean";else if(y===null)N.textContent="null",N.className="type-null";else if(Number.isFinite(y)&&!Number.isNaN(y))N.textContent=y+"",N.className="type-number";else{if(m)if(t.websiteRegex.test(y)||t.pathRegex.test(y)){let g=y;!t.httpRegex.test(y)&&t.websiteRegex.test(y)&&(g="https://"+y),N.innerHTML=V.sanitize(`<a href="${g}">"${g}"</a>`)}else N.innerHTML=`"${y}"`;else if(t.websiteRegex.test(y)||t.pathRegex.test(y)){let g=y;!t.httpRegex.test(y)&&t.websiteRegex.test(y)&&(g="https://"+y),N.innerHTML=V.sanitize(`<a href="${g}">"${g}"</a>`)}else N.textContent=`"${y}"`;N.className="type-string"}b!==0&&(x.innerHTML+=", "),x.appendChild(N)}x.innerHTML+="]",I.appendChild(x),I.appendChild(_),d.appendChild(I)}else x.textContent="[]",I.appendChild(x),I.appendChild(_),d.appendChild(I),p(c[h],_,l.concat(h));else x.textContent="{}",I.appendChild(x),I.appendChild(_),d.appendChild(I),p(c[h],_,l.concat(h));else{f++;let b=c[h];if(b===!0)x.textContent="true",x.className="type-boolean";else if(b===!1)x.textContent="false",x.className="type-boolean";else if(b===null)x.textContent="null",x.className="type-null";else if(Number.isFinite(b)&&!Number.isNaN(b))x.textContent=b+"",x.className="type-number";else{if(m)if(t.websiteRegex.test(b)||t.pathRegex.test(b)){let w=b;!t.httpRegex.test(b)&&t.websiteRegex.test(b)&&(w="https://"+b),x.innerHTML=V.sanitize(`<a href="${w}">"${w}"</a>`)}else x.innerHTML=`"${b}"`;else if(t.websiteRegex.test(b)||t.pathRegex.test(b)){let w=b;!t.httpRegex.test(b)&&t.websiteRegex.test(b)&&(w="https://"+b),x.innerHTML=V.sanitize(`<a href="${w}">"${w}"</a>`)}else x.textContent=`"${b}"`;x.className="type-string"}I.appendChild(x),I.appendChild(_),d.appendChild(I)}}}}sliceIjsonKey(r){let m=r.match(/^[0-9]+-/);if(m[0]!==null)return r.slice(m[0].length);throw new Error(`Key "${r}" fails IJSON validation.`)}mapToHtmlTable(r,m=!1){let e=this;try{e.damon.mapToJSON(r)}catch{throw new Error("Provided value doesn't passes JSON.parse().")}var t=0,f=document.createElement("table"),n=document.createElement("thead"),i=document.createElement("tbody"),p=!1,c=0;if(f.className="DAMON-Table",typeof r!="object"||r==null||Array.isArray(r)||!(r instanceof Map)||r.constructor!==Map)throw new Error("Error: expected an Object value, saw otherwise.");for(let[d,l]of r){if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map)if(t==0){let h=Array.from(l.keys()).map(e.sliceIjsonKey),C=new Set(h);if(h.length!==C.size)throw new Error("Duplicate in headings.");let _=document.createElement("tr");c=l.length;for(let[x,I]of l){let b=e.sliceIjsonKey(x);if(I===null){let w=document.createElement("th");w.dataset.graphArbo=t+"-"+_.children.length,m?e.websiteRegex.test(b)||e.pathRegex.test(b)?w.innerHTML=V.sanitize(`<a href="${b}">${b}</a>`):w.innerHTML=`${b}`:e.websiteRegex.test(b)||e.pathRegex.test(b)?w.innerHTML=V.sanitize(`<a href="${b}">${b}</a>`):w.textContent=`${b}`,_.appendChild(w)}else throw new Error("Error row "+t+": expected implicit null property, saw otherwise.")}n.appendChild(_),p=!0}else{if(l.length!=c)throw new Error("Error row "+t+": cells total doesn't match the header's.");let h=document.createElement("tr");for(let[C,_]of l){let x=e.sliceIjsonKey(C);if(_===null){let I=document.createElement("td");I.dataset.graphArbo=t+"-"+h.children.length,m?e.websiteRegex.test(x)||e.pathRegex.test(x)?I.innerHTML=V.sanitize(`<a href="${x}">${x}</a>`):I.innerHTML=`${x}`:e.websiteRegex.test(x)||e.pathRegex.test(x)?I.innerHTML=V.sanitize(`<a href="${x}">${x}</a>`):I.textContent=`${x}`,h.appendChild(I)}else throw new Error("Error row "+t+": expected implicit null property, saw otherwise.")}i.appendChild(h)}else throw new Error("Error row "+t+": expected an Object value, saw otherwise.");t++}return p&&f.appendChild(n),f.appendChild(i),f}prefixedKeysMapToSExpression(r){let m=this;var e="";if(typeof r=="object"&&r!==null&&r instanceof Map&&r.constructor===Map)return e+=`[\r
`,t(r),e+="]",JSON.parse(e),e;return typeof r=="string"&&(r='"'+r+'"'),JSON.parse(r),r;function t(f,n=1){if(typeof f=="object"&&f!==null&&!Array.isArray(f)&&f instanceof Map&&f.constructor===Map){let c=-1;for(let[d,l]of f){c++;let h=m.sliceIjsonKey(d);if(typeof l=="object"&&l!==null)if(Array.isArray(l))l.length>0?(e+="    ".repeat(n)+`${JSON.stringify(h)}, [\r
`,t(l,n+1),e+="    ".repeat(n)+"]"):e+="    ".repeat(n)+`${JSON.stringify(h)}, []`;else if(Array.from(l.keys()).length>0){if(n==1)if(c==0)e="";else throw new Error("Multiple S-Expression roots");e+="    ".repeat(n)+`[${JSON.stringify(h)}, \r
`,t(l,n+1),n!=1&&(e+="    ".repeat(n)+"]")}else e+="    ".repeat(n)+`${JSON.stringify(h)}, []`;else{if(l===!0)throw new Error("Booleans require quotes");if(l===!1)throw new Error("Booleans require quotes");l===null?e+="    ".repeat(n)+`${JSON.stringify(h)}`:Number.isFinite(l)&&!Number.isNaN(l)?e+="    ".repeat(n)+`${JSON.stringify(h)}, `+l:e+="    ".repeat(n)+`${JSON.stringify(h)}, `+JSON.stringify(l)}let C=Array.from(f.keys())[Array.from(f.keys()).length-1];d!=C?e+=`,\r
`:e+=`\r
`}}else if(Array.isArray(f))for(var i=0,p=f.length;i<p;i++){if(typeof f[i]=="object"&&f[i]!==null)Array.isArray(f[i])?f[i].length>0?(e+="    ".repeat(n)+`[\r
`,t(f[i],n+1),e+="    ".repeat(n)+"]"):e+="    ".repeat(n)+"[]":Array.from(f[i].keys()).length>0?(e+="    ".repeat(n)+`[\r
`,t(f[i],n+1),e+="    ".repeat(n)+"]"):e+="    ".repeat(n)+"[]";else{if(f[i]===!0)throw new Error("Booleans require quotes");if(f[i]===!1)throw new Error("Booleans require quotes");if(f[i]===null)throw new Error("Array-nulls require quotes");Number.isFinite(f[i])&&!Number.isNaN(f[i])?e+="    ".repeat(n)+f[i]:e+="    ".repeat(n)+JSON.stringify(f[i])}i!=p-1?e+=`,\r
`:e+=`\r
`}}}sExpressionToPrefixedKeysMap(r){let m=this,e=new Map;return e.headless=!0,t(JSON.parse(r),e,0),e;function t(f,n,i){let p=new Map;n.set(i+"-"+f[0],p);for(let c=1,d=f.length;c<d;c++)if(Array.isArray(f[c]))t(f[c],p,c-1);else{let l=c-1+"-"+f[c];p.set(l,null)}}}prefixedKeysMapToMathJs(r){let m=this,e="";if(Array.isArray(r))return f(r),e.slice(0,-1);return typeof r=="object"&&r!==null&&r instanceof Map&&r.constructor===Map?(f(r),e.slice(0,-1)):(typeof r=="string"&&(r=JSON.stringify(r)),JSON.parse(r),r);function t(n){return n[0].toLowerCase()+n.slice(1)}function f(n,i=0){if(typeof n=="object"&&n!==null&&!Array.isArray(n)&&n instanceof Map&&n.constructor===Map)for(let[d,l]of n){let h=m.sliceIjsonKey(d);h=="Power"&&(h="Pow"),h=="e"&&(h="2.718281828459045"),h=="i"&&(h="sqrt(-1)"),h=="LN2"&&(h="0.6931471805599453"),h=="LN10"&&(h="2.302585092994046"),h=="LOG2E"&&(h="1.4426950408889634"),h=="LOG10E"&&(h="0.4342944819032518"),h=="phi"&&(h="1.618033988749895"),h=="pi"&&(h="3.141592653589793"),h=="SQRT1_2"&&(h="0.7071067811865476"),h=="SQRT2"&&(h="1.4142135623730951"),h=="tau"&&(h="6.283185307179586"),typeof l=="object"&&l!==null?Array.isArray(l)?l.length>0?(e+="    ".repeat(i)+`${JSON.stringify(t(h)).slice(1,-1)}(
`,f(l,i+1),e+="    ".repeat(i)+")"):e+="    ".repeat(i)+`${JSON.stringify(t(h)).slice(1,-1)}()`:Array.from(l.keys()).length>0?(e+="    ".repeat(i)+`${JSON.stringify(t(h)).slice(1,-1)}(
`,f(l,i+1),e+="    ".repeat(i)+")"):e+="    ".repeat(i)+`${JSON.stringify(t(h)).slice(1,-1)}()`:l===!0?e+="    ".repeat(i)+`${JSON.stringify(t(h)).slice(1,-1)}(true)`:l===!1?e+="    ".repeat(i)+`${JSON.stringify(t(h)).slice(1,-1)}(false)`:l===null?e+="    ".repeat(i)+`${JSON.stringify(t(h)).slice(1,-1)}`:Number.isFinite(l)&&!Number.isNaN(l)?e+="    ".repeat(i)+`${JSON.stringify(t(h)).slice(1,-1)}(`+l+")":e+="    ".repeat(i)+`${JSON.stringify(t(h)).slice(1,-1)}(`+JSON.stringify(l)+")";let C=Array.from(n.keys())[Array.from(n.keys()).length-1];d!=C?e+=`,
`:e+=`
`}else if(Array.isArray(n))for(var p=0,c=n.length;p<c;p++)typeof n[p]=="object"&&n[p]!==null?Array.isArray(n[p])?n[p].length>0?n.damonInlineArrays!==void 0&&n.damonInlineArrays.indexOf(p)>-1?n[p]===!0?e+="    ".repeat(i)+"true":n[p]===!1?e+="    ".repeat(i)+"false":n[p]===null?e+="    ".repeat(i)+"null":Number.isFinite(n[p])&&!Number.isNaN(n[p])?e+="    ".repeat(i)+n[p]:e+="    ".repeat(i)+JSON.stringify(n[p]).slice(1,-1):(e+="    ".repeat(i)+`(
`,f(n[p],i+1),e+="    ".repeat(i)+")"):e+="    ".repeat(i)+"()":Array.from(n[p].keys()).length>0?(e+="    ".repeat(i)+`(
`,f(n[p],i+1),e+="    ".repeat(i)+")"):e+="    ".repeat(i)+"()":n[p]===!0?e+="    ".repeat(i)+"true":n[p]===!1?e+="    ".repeat(i)+"false":n[p]===null?e+="    ".repeat(i)+"null":Number.isFinite(n[p])&&!Number.isNaN(n[p])?e+="    ".repeat(i)+n[p]:e+="    ".repeat(i)+JSON.stringify(n[p]).slice(1,-1),p!=c-1?e+=`,
`:e+=`
`}}_mapsDiff(r,m){let e=this;try{e.damon.mapToJSON(r),e.damon.mapToJSON(m)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}if(typeof r!=typeof m||typeof r=="object"&&r!==null&&!Array.isArray(r)&&r instanceof Map&&r.constructor===Map&&(m==null||Array.isArray(m)||!(m instanceof Map)||m.constructor!==Map))throw new Error("Different root types.");var t;if(typeof r=="object"&&r!==null&&!Array.isArray(r)&&r instanceof Map&&r.constructor===Map)return t=new Map,f(r),t;if(Array.isArray(r))return t=[],f(r),t;function f(n,i=[]){if(typeof n=="object"&&n!==null&&!Array.isArray(n)&&n instanceof Map&&n.constructor===Map){let p="",c=null,d=m;for(let C=0,_=i.length;C<_;C++)typeof d=="object"&&d!==null&&!Array.isArray(d)&&d instanceof Map&&d.constructor===Map?d=d.get(Array.from(d.keys())[i[C]]):d=d[i[C]];let l=t;for(let C=0,_=i.length;C<_;C++)typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map&&Array.from(l.keys()).length?l=l.get(Array.from(l.keys())[i[C]]):l=l[i[C]];let h=0;for(let[C,_]of n)h>Array.from(d.keys()).length-1?typeof _=="object"&&_!==null&&!Array.isArray(_)&&_ instanceof Map&&_.constructor===Map?Array.from(d.keys()).indexOf(C)!==-1&&typeof d.get(C)=="object"&&d.get(C)!==null&&!Array.isArray(d.get(C))&&d.get(C)instanceof Map&&d.get(C).constructor===Map?l.set(h+"-yellow",null):l.set(h+"-red",null):Array.isArray(_)?Array.from(d.keys()).indexOf(C)!==-1&&Array.isArray(d.get(C))?l.set(h+"-yellow",null):l.set(h+"-red",null):Array.from(d.keys()).indexOf(C)!==-1&&_===d.get(C)?l.set(h+"-yellow",null):l.set(h+"-red",null):(p=Array.from(d.keys())[h],c=d.get(p),typeof _=="object"&&_!==null&&!Array.isArray(_)&&_ instanceof Map&&_.constructor===Map?typeof c=="object"&&c!==null&&!Array.isArray(c)&&c instanceof Map&&c.constructor===Map&&C===p?(l.set(h+"-green",new Map),Array.from(_.keys()).length>0&&f(_,i.concat([h]))):l.set(h+"-red",null):Array.isArray(_)?Array.isArray(c)&&C===p?(l.set(h+"-green",[]),_.length>0&&f(_,i.concat([h]))):l.set(h+"-red",null):_===c&&C===p?l.set(h+"-green","green"):l.set(h+"-red",null)),h++;if(Array.from(n.keys()).length<Array.from(d.keys()).length){let C=0;for(let[_,x]of d){if(C<=h-1){C++;continue}typeof x=="object"&&x!==null&&!Array.isArray(x)&&x instanceof Map&&x.constructor===Map?Array.from(n.keys()).indexOf(_)!==-1&&typeof n.get(_)=="object"&&n.get(_)!==null&&!Array.isArray(n.get(_))&&n.get(_)instanceof Map&&n.get(_).constructor===Map?l.set(h+"-yellow",null):l.set(h+"-red",null):Array.isArray(x)?Array.from(n.keys()).indexOf(_)!==-1&&Array.isArray(n.get(_))?l.set(h+"-yellow",null):l.set(h+"-red",null):Array.from(n.keys()).indexOf(_)!==-1&&x===n.get(_)?l.set(h+"-yellow",null):l.set(h+"-red",null),C++}}}else{let p=null,c=m;for(let l=0,h=i.length;l<h;l++)typeof c=="object"&&c!==null&&!Array.isArray(c)&&c instanceof Map&&c.constructor===Map&&Array.from(c.keys()).length?c=c.get(Array.from(c.keys())[i[l]]):c=c[i[l]];let d=t;for(let l=0,h=i.length;l<h;l++)typeof d=="object"&&d!==null&&!Array.isArray(d)&&d instanceof Map&&d.constructor===Map&&Array.from(d.keys()).length?d=d.get(Array.from(d.keys())[i[l]]):d=d[i[l]];for(let l=0,h=n.length;l<h;l++)l>c.length-1?d[l]="red":(p=c[l],typeof n[l]=="object"&&n[l]!==null&&!Array.isArray(n[l])&&n[l]instanceof Map&&n[l].constructor===Map?typeof p=="object"&&p!==null&&!Array.isArray(p)&&p instanceof Map&&p.constructor===Map?(d[l]=new Map,Array.from(n[l].keys()).length>0&&f(n[l],i.concat([l]))):d[l]="red":Array.isArray(n[l])?Array.isArray(p)?(d[l]=[],n[l].length>0&&f(n[l],i.concat([l]))):d[l]="red":n[l]===p?d[l]="green":d[l]="red");if(n.length<c.length)for(let l=0,h=c.length;l<h;l++)l<=n.length-1||(d[l]="red")}}}sortMap(r,m){let e=this,t=Array.from(r.keys()),f=Array.from(m.keys()),n=new Map;for(let i=0,p=t.length;i<p;i++)m.get(t[i])!==void 0&&n.set(t[i],m.get(t[i]));for(let i=0,p=f.length;i<p;i++)t.indexOf(f[i])==-1&&n.set(f[i],m.get(f[i]));return n}renderDiff(r,m,e=!1){let t=this,f=document.createElement("div"),n=document.createElement("div"),i=document.createElement("ul"),p=t._mapsDiff(r,m);return f.className="DAMON-Diff",n.className="DAMON-Diff-legend",i.className="DAMON-List",n.innerHTML='<span id="damonDiffRed"><span>Red</span>: Difference</span>; <span id="damonDiffBlue"><span>Blue</span>: Addition</span>; <span id="damonDiffGreen"><span>Green</span>: Displacement</span>',c(p,i),f.appendChild(n),f.appendChild(i),f;function c(l,h,C=[],_="green"){if(_==="green"){if(typeof h!="object"||h==null||Array.isArray(h))throw new Error("Error List Item "+C.concat("-")+": @param { {} } list");if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map){if(h.tagName=="UL"){let b="",w=null,N=r;for(let o=0,A=C.length;o<A;o++)typeof N=="object"&&N!==null&&!Array.isArray(N)&&N instanceof Map&&N.constructor===Map?N=N.get(Array.from(N.keys())[C[o]]):N=N[C[o]];let y="",g=null,s=m;for(let o=0,A=C.length;o<A;o++)typeof s=="object"&&s!==null&&!Array.isArray(s)&&s instanceof Map&&s.constructor===Map?s=s.get(Array.from(s.keys())[C[o]]):s=s[C[o]];let a=0;for(let[o,A]of l){let T=Array.from(l.keys())[a].split("-")[1],E=l.get(Array.from(l.keys())[a]),D=document.createElement("ul"),j=document.createElement("code"),X=document.createElement("span"),O=document.createElement("li");if(X.className="type-key",O.className=T+"-diff",O.className==="red-diff"&&a<=Array.from(N.keys()).length-1?a>Array.from(s.keys()).length-1?(o="",A=""):(a>Array.from(N.keys()).length-1&&(O.className="blue-diff",O.setAttribute("aria-describedby","damonDiffBlue")),y=Array.from(s.keys())[a],g=s.get(y),o=y,A=g):O.className==="green-diff"?(O.dataset.graphArbo=a,C.length>0&&(O.dataset.graphArbo=C.join("-")+"-"+a),O.className="",b=Array.from(s.keys())[a],w=s.get(b),o=b,A=w):O.className==="yellow-diff"?a>Array.from(N.keys()).length-1?(O.className="green-diff",O.setAttribute("aria-describedby","damonDiffGreen"),b=Array.from(s.keys())[a],w=s.get(b),o=b,A=w):(o="",A="",O.className="red-diff",O.setAttribute("aria-describedby","damonDiffRed")):(O.className="blue-diff",O.setAttribute("aria-describedby","damonDiffBlue"),b=Array.from(s.keys())[a],w=s.get(b),o=b,A=w),O.className==="red-diff"&&O.setAttribute("aria-describedby","damonDiffRed"),t.websiteRegex.test(o)||t.pathRegex.test(o)){let v=o;!t.httpRegex.test(o)&&t.websiteRegex.test(o)&&(v="https://"+o);let L=V.sanitize(`<a href="${v}"><span>${v}</span></a>`);X.innerHTML=L}else X.textContent=o;if(typeof A=="object"&&A!==null)if(Array.isArray(A))if(r.damonInlineArrays!==void 0&&r.damonInlineArrays.indexOf(o)>-1){j.innerHTML=X.outerHTML+'<span class="operator">: </span>[';for(let v=0,L=A.length;v<L;v++){let z=document.createElement("span"),k=A[v];if(k===!0)z.textContent="true",z.className="type-boolean";else if(k===!1)z.textContent="false",z.className="type-boolean";else if(k===null)z.textContent="null",z.className="type-null";else if(Number.isFinite(k)&&!Number.isNaN(k))z.textContent=k+"",z.className="type-number";else{if(e)if(t.websiteRegex.test(k)||t.pathRegex.test(k)){let H=k;!t.httpRegex.test(k)&&t.websiteRegex.test(k)&&(H="https://"+k),z.innerHTML=V.sanitize(`<a href="${H}">"${H}"</a>`)}else z.innerHTML=`"${k}"`;else if(t.websiteRegex.test(k)||t.pathRegex.test(k)){let H=k;!t.httpRegex.test(k)&&t.websiteRegex.test(k)&&(H="https://"+k),z.innerHTML=V.sanitize(`<a href="${H}">"${H}"</a>`)}else z.textContent=`"${k}"`;z.className="type-string"}v!==0&&(j.innerHTML+=", "),j.appendChild(z)}j.innerHTML+="]",O.appendChild(j),O.appendChild(D),h.appendChild(O)}else j.innerHTML=X.outerHTML+'<span class="operator">: </span>[]',O.appendChild(j),O.appendChild(D),h.appendChild(O),T=="green"?c(E,D,C.concat([a]),T):c(E,D,C.concat([a]),T);else r.implicitMaps!==void 0&&r.implicitMaps.indexOf(o)>-1?j.innerHTML=X.outerHTML:j.innerHTML=X.outerHTML+'<span class="operator">: </span>{}',O.appendChild(j),O.appendChild(D),h.appendChild(O),T=="green"?c(E,D,C.concat([a]),T):c(E,D,C.concat([a]),T);else{j.innerHTML=X.outerHTML+'<span class="operator">: </span>';let v=document.createElement("span"),L=A;if(L===!0)v.textContent="true",v.className="type-boolean";else if(L===!1)v.textContent="false",v.className="type-boolean";else if(L===null)v.textContent="null",v.className="type-null";else if(Number.isFinite(L)&&!Number.isNaN(L))v.textContent=L+"",v.className="type-number";else{if(e)if(t.websiteRegex.test(L)||t.pathRegex.test(L)){let z=L;!t.httpRegex.test(L)&&t.websiteRegex.test(L)&&(z="https://"+L),v.innerHTML=V.sanitize(`<a href="${z}">"${z}"</a>`)}else v.innerHTML=`"${L}"`;else if(t.websiteRegex.test(L)||t.pathRegex.test(L)){let z=L;!t.httpRegex.test(L)&&t.websiteRegex.test(L)&&(z="https://"+L),v.innerHTML=V.sanitize(`<a href="${z}">"${z}"</a>`)}else v.textContent=`"${L}"`;v.className="type-string"}r.implicitNulls===void 0||r.implicitNulls.indexOf(o)==-1?j.appendChild(v):j.innerHTML=j.innerHTML.slice(0,-2),O.appendChild(j),h.appendChild(O)}a++}}}else if(Array.isArray(l)){let b=r;for(let N=0,y=C.length;N<y;N++)typeof b=="object"&&b!==null&&!Array.isArray(b)&&b instanceof Map&&b.constructor===Map&&Array.from(b.keys()).length?b=b.get(Array.from(b.keys())[C[N]]):b=b[C[N]];let w=m;for(let N=0,y=C.length;N<y;N++)typeof w=="object"&&w!==null&&!Array.isArray(w)&&w instanceof Map&&w.constructor===Map&&Array.from(w.keys()).length?w=w.get(Array.from(w.keys())[C[N]]):w=w[C[N]];for(var x=0,I=l.length;x<I;x++){let N=document.createElement("ul"),y=document.createElement("code"),g=document.createElement("li"),s="green",a;if(g.className="green-diff",typeof l[x]=="string"&&(s=l[x],g.className=l[x]+"-diff"),g.className==="red-diff"&&x<=b.length-1?x>w.length-1?a="":(x>b.length-1&&(g.className=="red-diff"?(g.className="blue-diff",g.setAttribute("aria-describedby","damonDiffBlue")):(g.className="green-diff",g.setAttribute("aria-describedby","damonDiffGreen"))),a=w[x]):(g.className==="green-diff"?(g.dataset.graphArbo=x,C.length>0&&(g.dataset.graphArbo=C.join("-")+"-"+x),g.className=""):(g.className="blue-diff",g.setAttribute("aria-describedby","damonDiffBlue")),a=b[x]),g.className==="red-diff"&&g.setAttribute("aria-describedby","damonDiffRed"),typeof a=="object"&&a!==null)if(Array.isArray(a))if(r.damonInlineArrays!==void 0&&r.damonInlineArrays.indexOf(x)>-1){y.innerHTML+="[";for(let o=0,A=a.length;o<A;o++){let T=document.createElement("span"),E=a[o];if(E===!0)T.textContent="true",T.className="type-boolean";else if(E===!1)T.textContent="false",T.className="type-boolean";else if(E===null)T.textContent="null",T.className="type-null";else if(Number.isFinite(E)&&!Number.isNaN(E))T.textContent=E+"",T.className="type-number";else{if(e)if(t.websiteRegex.test(E)||t.pathRegex.test(E)){let D=E;!t.httpRegex.test(E)&&t.websiteRegex.test(E)&&(D="https://"+E),T.innerHTML=V.sanitize(`<a href="${D}">"${D}"</a>`)}else T.innerHTML=`"${E}"`;else if(t.websiteRegex.test(E)||t.pathRegex.test(E)){let D=E;!t.httpRegex.test(E)&&t.websiteRegex.test(E)&&(D="https://"+E),T.innerHTML=V.sanitize(`<a href="${D}">"${D}"</a>`)}else T.textContent=`"${E}"`;T.className="type-string"}o!==0&&(y.innerHTML+=", ")}y.innerHTML+="]",g.appendChild(y),g.appendChild(N),h.appendChild(g)}else y.textContent="[]",g.appendChild(y),g.appendChild(N),h.appendChild(g),c(l[x],N,C.concat([x]),s);else y.textContent="{}",g.appendChild(y),g.appendChild(N),h.appendChild(g),c(l[x],N,C.concat([x]),s);else{let o=a;if(o===!0)y.textContent="true",y.className="type-boolean";else if(o===!1)y.textContent="false",y.className="type-boolean";else if(o===null)y.textContent="null",y.className="type-null";else if(Number.isFinite(o)&&!Number.isNaN(o))y.textContent=o+"",y.className="type-number";else{if(e)if(t.websiteRegex.test(o)||t.pathRegex.test(o)){let A=o;!t.httpRegex.test(o)&&t.websiteRegex.test(o)&&(A="https://"+o),y.innerHTML=V.sanitize(`<a href="${A}">"${A}"</a>`)}else y.innerHTML=`"${o}"`;else if(t.websiteRegex.test(o)||t.pathRegex.test(o)){let A=o;!t.httpRegex.test(o)&&t.websiteRegex.test(o)&&(A="https://"+o),y.innerHTML=V.sanitize(`<a href="${A}">"${A}"</a>`)}else y.textContent=`"${o}"`;y.className="type-string"}g.appendChild(y),g.appendChild(N),h.appendChild(g)}}}}else if(["red","yellow"].indexOf(_)>-1){let b=m;for(let w=0,N=C.length;w<N;w++)typeof b=="object"&&b!==null&&!Array.isArray(b)&&b instanceof Map&&b.constructor===Map?b=b.get(Array.from(b.keys())[C[w]]):b=b[C[w]];d(b,h,C,_)}}function d(l,h,C,_){if(typeof h!="object"||h==null||Array.isArray(h))throw new Error("Error List Item "+C.concat("-")+": @param { {} } list");if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map){if(h.tagName=="UL"){let b=0;for(let[w,N]of l){let y=document.createElement("ul"),g=document.createElement("code"),s=document.createElement("span"),a=document.createElement("li");if(s.className="type-key",a.className="red-diff",a.setAttribute("aria-describedby","damonDiffRed"),t.websiteRegex.test(w)||t.pathRegex.test(w)){let o=w;!t.httpRegex.test(w)&&t.websiteRegex.test(w)&&(o="https://"+w);let A=V.sanitize(`<a href="${o}">${o}</a>`);s.innerHTML=A}else s.textContent=w;if(typeof N=="object"&&N!==null)if(Array.isArray(N))if(l.damonInlineArrays!==void 0&&l.damonInlineArrays.indexOf(w)>-1){g.innerHTML=s.outerHTML+'<span class="operator">: </span>[';for(let o=0,A=N.length;o<A;o++){let T=document.createElement("span"),E=N[o];if(E===!0)T.textContent="true",T.className="type-boolean";else if(E===!1)T.textContent="false",T.className="type-boolean";else if(E===null)T.textContent="null",T.className="type-null";else if(Number.isFinite(E)&&!Number.isNaN(E))T.textContent=E+"",T.className="type-number";else{if(e)if(t.websiteRegex.test(E)||t.pathRegex.test(E)){let D=E;!t.httpRegex.test(E)&&t.websiteRegex.test(E)&&(D="https://"+E),T.innerHTML=V.sanitize(`<a href="${D}">"${D}"</a>`)}else T.innerHTML=`"${E}"`;else if(t.websiteRegex.test(E)||t.pathRegex.test(E)){let D=E;!t.httpRegex.test(E)&&t.websiteRegex.test(E)&&(D="https://"+E),T.innerHTML=V.sanitize(`<a href="${D}">"${D}"</a>`)}else T.textContent=`"${E}"`;T.className="type-string"}o!==0&&(g.innerHTML+=", "),g.appendChild(T)}g.innerHTML+="]",a.appendChild(g),a.appendChild(y),h.appendChild(a)}else g.innerHTML=s.outerHTML+'<span class="operator">: </span>[]',a.appendChild(g),a.appendChild(y),h.appendChild(a),d(N,y,C.concat([b]),_);else l.implicitMaps!==void 0&&l.implicitMaps.indexOf(w)>-1?g.innerHTML=s.outerHTML:g.innerHTML=s.outerHTML+'<span class="operator">: </span>{}',a.appendChild(g),a.appendChild(y),h.appendChild(a),d(N,y,C.concat([b]),_);else{g.innerHTML=s.outerHTML+'<span class="operator">: </span>';let o=document.createElement("span"),A=N;if(A===!0)o.textContent="true",o.className="type-boolean";else if(A===!1)o.textContent="false",o.className="type-boolean";else if(A===null)o.textContent="null",o.className="type-null";else if(Number.isFinite(A)&&!Number.isNaN(A))o.textContent=A+"",o.className="type-number";else{if(e)if(t.websiteRegex.test(A)||t.pathRegex.test(A)){let T=A;!t.httpRegex.test(A)&&t.websiteRegex.test(A)&&(T="https://"+A),o.innerHTML=V.sanitize(`<a href="${T}">"${T}"</a>`)}else o.innerHTML=`"${A}"`;else if(t.websiteRegex.test(A)||t.pathRegex.test(A)){let T=A;!t.httpRegex.test(A)&&t.websiteRegex.test(A)&&(T="https://"+A),o.innerHTML=V.sanitize(`<a href="${T}">"${T}"</a>`)}else o.textContent=`"${A}"`;o.className="type-string"}l.implicitNulls===void 0||l.implicitNulls.indexOf(w)==-1?g.appendChild(o):g.innerHTML=g.innerHTML.slice(0,-2),a.appendChild(g),h.appendChild(a)}b++}}}else if(Array.isArray(l))for(var x=0,I=l.length;x<I;x++){let b=document.createElement("ul"),w=document.createElement("code"),N=document.createElement("li");if(N.className=l[x]+"-diff",N.setAttribute("aria-describedby","damonDiffRed"),typeof l[x]=="object"&&l[x]!==null)if(Array.isArray(l[x]))if(l.damonInlineArrays!==void 0&&l.damonInlineArrays.indexOf(x)>-1){w.innerHTML+="[";for(let y=0,g=l[x].length;y<g;y++){let s=document.createElement("span"),a=l[x][y];if(a===!0)s.textContent="true",s.className="type-boolean";else if(a===!1)s.textContent="false",s.className="type-boolean";else if(a===null)s.textContent="null",s.className="type-null";else if(Number.isFinite(a)&&!Number.isNaN(a))s.textContent=a+"",s.className="type-number";else{if(e)if(t.websiteRegex.test(a)||t.pathRegex.test(a)){let o=a;!t.httpRegex.test(a)&&t.websiteRegex.test(a)&&(o="https://"+a),s.innerHTML=V.sanitize(`<a href="${o}">"${o}"</a>`)}else s.innerHTML=`"${a}"`;else if(t.websiteRegex.test(a)||t.pathRegex.test(a)){let o=a;!t.httpRegex.test(a)&&t.websiteRegex.test(a)&&(o="https://"+a),s.innerHTML=V.sanitize(`<a href="${o}">"${o}"</a>`)}else s.textContent=`"${a}"`;s.className="type-string"}y!==0&&(w.innerHTML+=", "),w.appendChild(s)}w.innerHTML+="]",N.appendChild(w),N.appendChild(b),h.appendChild(N)}else w.textContent="[]",N.appendChild(w),N.appendChild(b),h.appendChild(N),d(l[x],b,C.concat([x]),_);else w.textContent="{}",N.appendChild(w),N.appendChild(b),h.appendChild(N),d(l[x],b,C.concat([x]),_);else{let y=l[x];if(y===!0)w.textContent="true",w.className="type-boolean";else if(y===!1)w.textContent="false",w.className="type-boolean";else if(y===null)w.textContent="null",w.className="type-null";else if(Number.isFinite(y)&&!Number.isNaN(y))w.textContent=y+"",w.className="type-number";else{if(e)if(t.websiteRegex.test(y)||t.pathRegex.test(y)){let g=y;!t.httpRegex.test(y)&&t.websiteRegex.test(y)&&(g="https://"+y),w.innerHTML=V.sanitize(`<a href="${g}">"${g}"</a>`)}else w.innerHTML=`"${y}"`;else if(t.websiteRegex.test(y)||t.pathRegex.test(y)){let g=y;!t.httpRegex.test(y)&&t.websiteRegex.test(y)&&(g="https://"+y),w.innerHTML=V.sanitize(`<a href="${g}">"${g}"</a>`)}else w.textContent=`"${y}"`;w.className="type-string"}N.appendChild(w),N.appendChild(b),h.appendChild(N)}}}}damonTableMapToCSV(r){let m=this,e="",t=-1;for(let[f,n]of r){t++;let i=Array.from(n.keys());if(t==0){let p=Array.from(i).map(m.sliceIjsonKey),c=new Set(p);if(p.length!==c.size)throw new Error("Duplicate in headings.")}for(let p=0,c=i.length;p<c;p++){let d=m.sliceIjsonKey(i[p]);e+=qt.unparse([[d]],{quotes:!0}),p!=c-1&&(e+=",")}e+=`
`}return e.slice(0,-1)}damonTableMapToJSON(r,m="array-rows"){let e=this;if(m=="array-rows"){let t=`[
`,f=-1;for(let[n,i]of r){f++,t+="    [";let p=Array.from(i.keys());for(let c=0,d=p.length;c<d;c++){let l=e.sliceIjsonKey(p[c]);t+=JSON.stringify(l),c!=d-1&&(t+=", ")}t+=`],
`}return t=t.slice(0,-2)+`
]`,t}else{let t=`[
`,f=-1,n=new Map;for(let[i,p]of r)if(f++,f===0){let c=Array.from(p.keys()).map(e.sliceIjsonKey),d=new Set(c);if(c.length!==d.size)throw new Error("Duplicate in headings.");for(let[l,h]of p)n.set(e.sliceIjsonKey(l),null)}else{let c=-1,d=Array.from(p.keys());for(let[l,h]of n)c++,d[c]?n.set(l,e.sliceIjsonKey(d[c])):n.set(l,null);t+=e.damon.mapToJSON(n).split(`
`).map(l=>"   "+l).join(`
`),t+=`,
`}return t=t.slice(0,-2)+`
]`,t}}csvToDamonTable(r){let m=this,e=qt.parse(r);if(e.meta.aborted)throw new Error("CSV parsing failed");return m.jsonToDamonTable(JSON.stringify(e.data))}jsonToDamonTable(r,m="array-rows"){let e=this,t=new Map;if(m==="array-rows"){let f=JSON.parse(r);for(let n=0,i=f.length;n<i;n++){let p=new Map,c=n+"-"+(n+"");p.implicitNulls=[],t.set(c,p);let d=f[n];for(let l=0,h=d.length;l<h;l++)t.get(c).set(l+"-"+d[l],null),t.get(c).implicitNulls.push(d[l])}}else{let f=e.damon.jsonToMap(r);t.set("0-0",new Map);let n=-1;for(let[i,p]of f[0])n++,t.get("0-0").set(n+"-"+i,null);for(let i=0,p=f.length;i<p;i++){let c=i+1+"-"+(i+1);t.set(c,new Map);let d=-1;for(let[l,h]of f[i])d++,t.get(c).set(d+"-"+h,null)}}return t.headless=!0,e.damon.mapToDamon(t,!1,!0)}wrapListContentsForStyling(r){let m=this;for(let e=0,t=r.length;e<t;e++){let f=document.createElement("div");for(let n=r[e].childNodes.length-1;n>=0;n--)(r[e].childNodes[n].tagName&&r[e].childNodes[n].tagName!=="UL"&&r[e].childNodes[n].tagName!=="OL"||r[e].childNodes[n].nodeType==3&&r[e].childNodes[n].data!=`
`&&r[e].childNodes[n].data!=`\r
`)&&(f.childNodes.length==0?f.appendChild(r[e].childNodes[n]):f.insertBefore(r[e].childNodes[n],f.childNodes[0]));r[e].firstElementChild?r[e].insertBefore(f,r[e].firstElementChild):r[e].appendChild(f)}}addLineNumbers(r,m,e=0){let t=this,f=m.querySelectorAll("li[data-graph-arbo]");for(let n=0,i=f.length;n<i;n++){let p=document.createElement("div");p.className="damon-line-number";let c=t.damon.damonToMap(r),d=f[n].dataset.graphArbo.split("-"),l=[];for(let h=0,C=d.length;h<C;h++)typeof c=="object"&&c!==null&&!Array.isArray(c)&&c instanceof Map&&c.constructor===Map?(l.push(Array.from(c.keys())[d[h]]),c=c.get(l[h])):(l.push(parseInt(d[h])),c=c[l[h]]);p.textContent=t.damon.getRangeFromPath(r,l)[0][0]+1+e,p.id="damonLine"+p.textContent,f[n].setAttribute("aria-labelledBy",p.id),p.style.top=m.scrollTop+f[n].firstElementChild.getBoundingClientRect().top-m.getBoundingClientRect().top+"px",m.appendChild(p)}}addTableLineNumbers(r,m,e=0){let t=this,f=m.querySelectorAll("th[data-graph-arbo]:first-child, td[data-graph-arbo]:first-child");for(let n=0,i=f.length;n<i;n++){let p=document.createElement("div");p.className="damon-line-number",p.textContent=t.damon.getRangeFromPath(r,[Array.from(t.damon.damonToMap(r).keys())[n]])[0][0]+1+e,p.id="damonLine"+p.textContent,f[n].setAttribute("aria-labelledBy",p.id),p.style.top=m.scrollTop+f[n].getBoundingClientRect().top-m.getBoundingClientRect().top+"px",m.appendChild(p)}}damonGraphMapToMermaid(r,m=0){let e=this,t="";if(typeof r!="object"||r===null||Array.isArray(r)||!(r instanceof Map)||r.constructor!==Map)throw new Error("Error: input does not conform to Map type");let f=0;for(let[n,i]of r){if(f++,i===null){t+=n+`\r
`;continue}if(typeof i!="object"||Array.isArray(i)||!(i instanceof Map)||i.constructor!==Map)throw new Error("Error line "+e.damon.mapIndexToLine(r,f)+m+": value does not conform to Map type");if(Array.from(i.keys()).length)for(let[p,c]of i){if(f++,typeof c!="string")throw new Error("Error line "+e.damon.mapIndexToLine(r,f)+m+": value does not conform to String type");let d=c.split(",");for(let l=0,h=d.length;l<h;l++)t+=n+" "+p+" "+d[l]+`\r
`}else t+=n+`\r
`}return t.slice(0,-2)}damonDecisionMapToHtmlTable(r,m,e,t,f){let n=this;return n.arrayDecisionTableToHtml(n.damonDecisionMapToArrayTable(r,m,e,t,f))}damonDecisionMapToArrayTable(r,m,e,t,f){let n=this,i=Array.from(r.keys()).map(I=>[n.sliceIjsonKey(I),I]),p=[],c=[],d=[],l=[],h=[];if(i.find(I=>I[0]=="rows")!==void 0&&(h=JSON.parse(n.damonTableMapToJSON(r.get(i.find(I=>I[0]=="rows")[1])))),i.find(I=>I[0]=="booleans")!==void 0){d=Array.from(r.get(i.find(w=>w[0]=="booleans")[1]).keys());let I=d.map(n.sliceIjsonKey),b=new Set(I);if(I.length!==b.size)throw new Error("Duplicate in booleans.");p=n.generateTruthTable(d,m,e,t,f)}if(i.find(I=>I[0]=="befores")!==void 0){let I=i.find(s=>s[0]=="befores")[1],b=r.get(I);if(typeof b!="object"||b===null||Array.isArray(b)||!(b instanceof Map)||b.constructor!==Map)throw new Error('"befores" key requires a dictionary.');c=Array.from(b.keys());let w=c.map(n.sliceIjsonKey),N=new Set(w);if(w.length!==N.size)throw new Error("Duplicate in befores.");let y=[];for(let s=0,a=c.length;s<a;s++)y.push(h.map(o=>o[s]));let g=Math.max.apply(null,y.map(s=>s.length).concat([p.length]));for(let s=y.length-1,a=-1;s>a;s--)for(let o=0,A=g;o<A;o++){let T=!1;if(p[o]||(p[o]=[],T=!0),o<y[s].length?p[o].unshift(y[s][o]):p[o].unshift(""),T)for(let E=0,D=d.length;E<D;E++)p[o].push("")}}if(i.find(I=>I[0]=="afters")!==void 0){let I=i.find(s=>s[0]=="afters")[1],b=r.get(I);if(typeof b!="object"||b===null||Array.isArray(b)||!(b instanceof Map)||b.constructor!==Map)throw new Error('"afters" key requires a dictionary.');l=Array.from(b.keys());let w=l.map(n.sliceIjsonKey),N=new Set(w);if(w.length!==N.size)throw new Error("Duplicate in afters.");let y=[];for(let s=0,a=l.length;s<a;s++)y.push(h.map(o=>o[s+c.length]));let g=Math.max.apply(null,y.map(s=>s.length).concat([p.length]));for(let s=0,a=y.length;s<a;s++)for(let o=0,A=g;o<A;o++){p[o]||(p[o]=[]);let T=c.length+d.length;if(p[o].length<T)for(let E=0,D=T;E<D;E++)p[o].push("");o<y[s].length?p[o].push(y[s][o]):p[o].push("")}if(i.find(s=>s[0]=="rules")!==void 0){let o=function(D,j){return new regex(D).test(j)};var x=o;let s=i.find(D=>D[0]=="rules")[1],a=r.get(s);if(typeof a!="object"||a===null||Array.isArray(a)||!(a instanceof Map)||a.constructor!==Map)throw new Error('"rules" key requires a dictionary.');At.add_operation("RegExp.test",o),At.add_operation("Math",Math);let A=Array.from(a.keys()),T=A.map(n.sliceIjsonKey),E=new Set(T);if(T.length!==E.size)throw new Error("Duplicate in rules.");for(let D=0,j=A.length;D<j;D++){let X=l.findIndex(function(v){return n.sliceIjsonKey(v)===n.sliceIjsonKey(A[D])});if(X==-1)throw new Error('Rule "'+n.sliceIjsonKey(A[D])+'" matches no afters.');let O=Array.from(a.get(A[D]).keys());for(let v=0,L=p.length;v<L;v++)for(let z=0,k=O.length;z<k;z++)try{let H=JSON.parse(n.indexPrefixedMapToJsonLogic(a.get(A[D]).get(O[z]))),S={},ne=c.concat(d),P=ne.concat(l);for(let ie=0,G=P.length;ie<G;ie++)S[n.sliceIjsonKey(P[ie])]=p[v][ie];At.apply(H,S)&&(p[v][ne.length-1+X+1]=n.sliceIjsonKey(O[z]))}catch(H){throw console.log("DamonUtils.js:2768:",H),new Error('"'+n.sliceIjsonKey(A[D])+'" rule fails JsonLogic parsing.')}}}}let C=d.map(n.sliceIjsonKey);c.length&&(C=c.map(n.sliceIjsonKey).concat(C)),l.length&&(C=C.concat(l.map(n.sliceIjsonKey)));let _=new Set(C);if(C.length!==_.size)throw new Error("Duplicate in headings.");return p.unshift(C),p}generateTruthTable(r,m,e=m,t,f=t){let n=Math.pow(2,r.length),i=[];m===void 0&&(m=0,e=n-1),t===void 0&&(t=0,f=r.length-1);for(let p=m,c=e+1;p<c;p++){let d=[];i.push(d)}for(let p=t,c=f+1;p<c;p++){let d=Math.pow(2,p+1),l=n/d,h=m,C=Math.floor(m/l),_=m%l;e:for(let x=C,I=d;x<I;x++){let b=x%2==0;for(let w=_,N=l;w<N;w++){if(h>m-1)if(h<e+1)i[h-m].push(b);else break e;h++}}}return i}indexPrefixedMapToJsonLogic(r){let m=this;var e="";if(typeof r=="object"&&r!==null&&r instanceof Map&&r.constructor===Map)return t(r),JSON.stringify(JSON.parse(e));if(typeof r=="boolean")return r;throw new Error("JsonLogic requires either an object or a boolean value.");function t(f,n=1){if(typeof f=="object"&&f!==null&&!Array.isArray(f)&&f instanceof Map&&f.constructor===Map)for(let[c,d]of f){let l=m.sliceIjsonKey(c);if(typeof d=="object"&&d!==null)if(Array.isArray(d))d.length>0?(e+="    ".repeat(n)+`{${JSON.stringify(l)}: [\r
`,t(d,n+1),e+="    ".repeat(n)+"]}"):e+="    ".repeat(n)+`{${JSON.stringify(l)}: []}`;else if(Array.from(d.keys()).length>0){e+="    ".repeat(n)+`{${JSON.stringify(l)}: [\r
`;for(let[C,_]of d){let x=m.sliceIjsonKey(C);typeof _=="object"&&_!==null?Array.isArray(_)?_.length>0?(e+="    ".repeat(n+1)+`[${JSON.stringify(x)}: [\r
`,t(_,n+2),e+="    ".repeat(n+1)+"]]"):e+="    ".repeat(n+1)+`[${JSON.stringify(x)}: []]`:Array.from(_.keys()).length>0?(e+="    ".repeat(n+1)+`{${JSON.stringify(x)}: [\r
`,t(_,n+2),e+="    ".repeat(n+1)+"]}"):e+="    ".repeat(n+1)+`{${JSON.stringify(x)}: {}}`:_===null?e+="    ".repeat(n+1)+`${JSON.stringify(x)}`:e+="    ".repeat(n+1)+`{${JSON.stringify(x)}: ${JSON.stringify(_)}}`;let I=Array.from(d.keys())[Array.from(d.keys()).length-1];C!=I?e+=`,\r
`:e+=`\r
`}e+="    ".repeat(n)+"]}"}else e+="    ".repeat(n)+`${JSON.stringify(l)}: []}`;else d===!0?e+="    ".repeat(n)+`{${JSON.stringify(l)}: true}`:d===!1?e+="    ".repeat(n)+`{${JSON.stringify(l)}: false}`:d===null?e+="    ".repeat(n)+`${JSON.stringify(l)}`:Number.isFinite(d)&&!Number.isNaN(d)?e+="    ".repeat(n)+`{${JSON.stringify(l)}: `+d+"}":e+="    ".repeat(n)+`{${JSON.stringify(l)}: `+JSON.stringify(d)+"}";let h=Array.from(f.keys())[Array.from(f.keys()).length-1];c!=h?e+=`,\r
`:e+=`\r
`}else if(Array.isArray(f))for(var i=0,p=f.length;i<p;i++)typeof f[i]=="object"&&f[i]!==null?Array.isArray(f[i])?f[i].length>0?(e+="    ".repeat(n)+`[\r
`,t(f[i],n+1),e+="    ".repeat(n)+"]"):e+="    ".repeat(n)+"[]":Array.from(f[i].keys()).length>0?(e+="    ".repeat(n)+`{\r
`,t(f[i],n+1),e+="    ".repeat(n)+"}"):e+="    ".repeat(n)+"{}":f[i]===!0?e+="    ".repeat(n)+"true":f[i]===!1?e+="    ".repeat(n)+"false":f[i]===null?e+="    ".repeat(n)+"null":Number.isFinite(f[i])&&!Number.isNaN(f[i])?e+="    ".repeat(n)+f[i]:e+="    ".repeat(n)+JSON.stringify(f[i]),i!=p-1?e+=`,\r
`:e+=`\r
`}}arrayTableToPandasRecords(r){let m=this,e=[],t=r[0].length;for(let f=1,n=r.length;f<n;f++){let i={};for(let p=0,c=t;p<c;p++)i[r[0][p]]=r[f][p];e.push(i)}return e}arrayDecisionTableToHtml(r){let m=this,e=document.createElement("table"),t=document.createElement("thead"),f=document.createElement("tbody");e.className="DAMON-Decision";let n=document.createElement("tr");for(let i=0,p=r.length;i<p;i++){let c=document.createElement("th");i!==0&&(c.textContent=i,c.dataset.graphArbo=i-1),n.appendChild(c)}t.appendChild(n);for(let i=0,p=r[0].length;i<p;i++){let c=document.createElement("tr");f.appendChild(c)}for(let i=0,p=r.length;i<p;i++)for(let c=0,d=r[i].length;c<d;c++){let l={};i==0?(l=document.createElement("th"),m.websiteRegex.test(r[i][c])||m.pathRegex.test(r[i][c])?l.innerHTML=V.sanitize(`<a href="${r[i][c]}">${r[i][c]}</a>`):l.textContent=`${r[i][c]}`,f.children[c].appendChild(l)):(l=document.createElement("td"),typeof r[i][c]=="boolean"?(r[i][c]?l.className="true":l.className="false",l.innerHTML=r[i][c]?"T":"F"):m.websiteRegex.test(r[i][c])||m.pathRegex.test(r[i][c])?l.innerHTML=V.sanitize(`<a href="${r[i][c]}">${r[i][c]}</a>`):l.textContent=`${r[i][c]}`,f.children[c].appendChild(l))}return e.appendChild(t),e.appendChild(f),e}indexPrefixedMapToPaths(r){let m=this;var e="";if(Array.isArray(r))throw new Error("Expected a map of maps. Saw an array.");if(typeof r=="object"&&r!==null&&r instanceof Map&&r.constructor===Map)return e+=`[\r
`,t(r),e=e.slice(0,-3),e+=`\r
]`,e;throw new Error("Expected a map of maps. Saw a non-null leaf-value instead.");function t(f,n=1,i=[]){if(typeof f=="object"&&f!==null&&!Array.isArray(f)&&f instanceof Map&&f.constructor===Map)for(let[p,c]of f){let d=m.sliceIjsonKey(p);if(typeof c=="object"&&c!==null){if(Array.isArray(c))throw new Error("Expected a map of maps. Saw an array.");Array.from(c.keys()).length>0?(e+=`    ${JSON.stringify(i.concat([d]).join("/"))},\r
`,t(c,n+1,i.concat([d]))):e+=`    ${JSON.stringify(i.concat([d]).join("/"))},\r
`}else{if(c===!0)throw new Error("Expected a map of maps. Saw a boolean.");if(c===!1)throw new Error("Expected a map of maps. Saw a boolean.");if(c===null)e+=`    ${JSON.stringify(i.concat([d]).join("/"))},\r
`;else throw Number.isFinite(c)&&!Number.isNaN(c)?new Error("Expected a map of maps. Saw a number."):new Error("Expected a map of maps. Saw a string.")}}else throw new Error("Expected a map of maps. Saw an array.")}}}});(function(){window.DamonUtils=Yt()})();})();
/*! Bundled license information:

dompurify/dist/purify.cjs.js:
  (*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE *)

papaparse/papaparse.min.js:
  (* @license
  Papa Parse
  v5.5.3
  https://github.com/mholt/PapaParse
  License: MIT
  *)
*/
